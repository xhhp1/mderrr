<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ููุญุฉ ุงูุชูุงุฑูุฑ</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;500;700;800&display=swap" rel="stylesheet">

  <style>
    /* ===== Theme (dashboard look) ===== */
    :root{
      --bg:#0b1020;
      --bg-tile: radial-gradient(1200px 800px at 100% -20%, rgba(60,80,255,.08), transparent 50%),
                  radial-gradient(900px 600px at -10% 120%, rgba(255,215,85,.08), transparent 50%),
                  linear-gradient(180deg, #0b1020 0%, #0a0e1a 100%);
      --panel:#121a2b;
      --panel-2:#0f1626;
      --panel-glass: linear-gradient(180deg, rgba(18,26,43,.9), rgba(15,22,38,.9));
      --border:#1e2b48;
      --shadow: 0 12px 28px rgba(0,0,0,.45);
      --primary-1:#4a7bff;
      --primary-2:#2c56db;
      --chip:#101a34;
      --text:#e7edff;
      --muted:#9fb3db;
      --field:#0e172a;
      --field-border:#1b2b4d;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family:"Cairo", Tahoma, Arial, sans-serif;
      color:var(--text);
      background: var(--bg-tile);
    }

    /* Layout */
    .layout{ display:grid; grid-template-columns: 300px 1fr; gap:20px; padding:22px; }
    @media (max-width: 1100px){ .layout{ grid-template-columns: 1fr; } }

    /* Sidebar */
    .sidebar{
      position:sticky; top:22px;
      background: var(--panel-glass);
      border:1px solid var(--border);
      border-radius:18px;
      box-shadow: var(--shadow);
      padding:16px;
      height: fit-content;
      backdrop-filter: blur(6px);
    }
    .sidebar__profile{
      display:flex; align-items:center; gap:12px;
      padding-bottom:14px; border-bottom:1px solid var(--border);
    }
    .avatar{
      width:48px; height:48px; border-radius:14px;
      display:grid; place-items:center;
      background:#1a2748; color:#cfe0ff; font-weight:800; font-size:18px;
      box-shadow: inset 0 0 0 1px #26407a;
    }
    .user{ font-weight:800; letter-spacing:.2px; }
    .role{ font-size:12px; color:var(--muted); margin-top:2px; }

    .sidebar__nav{ display:grid; gap:10px; margin-top:16px; }
    .nav-item{
      appearance:none; border:none; cursor:pointer;
      border-radius:12px; padding:12px 14px; text-align:right;
      background: var(--chip);
      color:#dbe6ff; font-weight:700;
      border:1px solid var(--border);
      transition: .12s transform, .12s background, .12s border-color;
    }
    .nav-item:hover{
      background:#0f1a33; transform:translateY(-1px); border-color:#2a4177;
    }
    .sidebar__footer{ margin-top:16px; color:var(--muted); text-align:center; }

    /* Main */
    .main{ display:grid; gap:18px; }

    /* Cards / hero */
    .card{
      background: var(--panel-glass);
      border:1px solid var(--border);
      border-radius:18px;
      padding:18px;
      box-shadow: var(--shadow);
    }
    .hero{ display:flex; gap:26px; align-items:flex-start; }
    .hero__left{ flex:1; }
    h1{ margin:0 0 8px; font-size:28px; font-weight:900; letter-spacing:.2px; }
    h2{ margin:0 0 14px; font-size:22px; font-weight:900; letter-spacing:.2px; }
    .muted{ color: var(--muted); margin:0 0 12px; }

    /* Chips */
    .cards-row{ display:flex; gap:10px; flex-wrap:wrap; }
    .chip{
      background: var(--chip);
      border:1px solid var(--border);
      color:#cfe0ff;
      border-radius:999px; padding:8px 14px; cursor:pointer; font-weight:700;
      transition:.12s background, .12s transform, .12s border-color;
    }
    .chip:hover{ background:#0f1e3b; transform:translateY(-1px); border-color:#2b4278; }

    /* Form */
    .field{ display:grid; gap:6px; }
    label{ font-weight:800; color:#d7e5ff; }
    .input, select, textarea{
      width:100%; border:1px solid var(--field-border);
      background: var(--field); color:#e7efff;
      border-radius:12px; padding:11px 12px; font-size:15px;
    }
    .readonly{ opacity:.95; }
    .check{ display:flex; align-items:center; gap:8px; }
    .grid-2{ display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:12px; }
    @media (max-width: 850px){ .grid-2{ grid-template-columns:1fr; } }
    .time-group{ display:flex; gap:8px; }
    .time-group .input, .time-group select{ flex:1; }

    /* Buttons */
    .btn{
      background:linear-gradient(180deg, var(--primary-1) 0%, var(--primary-2) 100%);
      border:1px solid #2848c4; color:white; font-weight:900; letter-spacing:.2px;
      padding:12px 18px; border-radius:12px; cursor:pointer;
      transition:.15s transform, .15s filter, .15s box-shadow;
      box-shadow: 0 10px 20px rgba(66,105,255,.18);
    }
    .btn:hover{ transform:translateY(-1px); filter:brightness(1.05); }
    .btn:active{ transform:translateY(0); }
    .btn-primary{ background:linear-gradient(180deg, #5d8bff 0%, #375fe4 100%); border-color:#345be0; }

    .actions{ display:flex; gap:10px; flex-wrap:wrap; margin-top:10px; }

    /* Output */
    .output{
      display:none; margin-top:12px; padding:16px; border-radius:14px; white-space:pre-wrap;
      background:#0b1326; border:1px solid var(--field-border); color:#eef2ff; direction:ltr; text-align:left;
      box-shadow: inset 0 0 0 1px rgba(48,72,120,.25);
    }

    /* Custom dropdown */
    .custom-dropdown{ position:relative; user-select:none; }
    .cd-selected{
      display:flex; align-items:center; justify-content:space-between; gap:8px;
      padding:11px 12px; border-radius:12px; border:1px solid var(--field-border);
      background:#0f172a; color:#e7efff; cursor:pointer; font-weight:700;
    }
    .cd-panel{
      position:absolute; left:0; right:0; top:calc(100% + 6px);
      background:#0f172a; border:1px solid var(--field-border); border-radius:12px;
      box-shadow: var(--shadow); max-height:300px; overflow:auto; padding:6px; display:none; z-index:50;
    }
    .cd-option{ padding:10px; border-radius:10px; cursor:pointer; }
    .cd-option:hover{ background:#0f213f; }
    .cd-option.selected{ background:#132a55; }

    /* Panes (tabs) */
    .pane{ display:none; }
    .pane.active{ display:block; }
  </style>
</head>
<body>
 
  <div class="layout">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar__profile">
        <div class="avatar">G</div>
        <div>
          <div class="user">Guest</div>
          <div class="role">ูุธุงู ุงูุชูุงุฑูุฑ</div>
        </div>
      </div>

      <nav class="sidebar__nav">
        <button class="nav-item" data-target="vacBox">ุงูุฅุฌุงุฒุงุช ู ุงูุงูุชุฏุงุจุงุช</button>
        <button class="nav-item" data-target="resignBox">ุงูุงุณุชูุงูุฉ</button>
        <button class="nav-item" data-target="violBox">ุงููุฎุงููุงุช</button>
        <button class="nav-item" data-target="absBox">ููู ูู ูุญุถุฑ</button>
        <button class="nav-item" data-target="extBox">ุฅุฌุงุฒุฉ ุฎุงุฑุฌูุฉ</button>
      </nav>

      <div class="sidebar__footer"><small>ยฉ ุงููููุงููู</small></div>
    </aside>

    <!-- Main -->
    <main class="main">

      <!-- ================= VACATIONS (internal + secondment) ================= -->
      <section id="vacBox" class="card pane active">
        <h2>๐งณ ุงูุฅุฌุงุฒุงุช ู ุงูุงูุชุฏุงุจุงุช</h2>

        <div class="grid-2">
          <div>
            <label>ุงูุฅุฌุงุฒุฉ ูููุ</label>
            <select id="vac_vacType" class="input" onchange="vac_toggleFields()">
              <option value="ููู">ููู</option>
              <option value="ูุดุฑู">ูุดุฑู</option>
              <option value="ุงูุงูุชุฏุงุจุงุช">ุงูุงูุชุฏุงุจุงุช</option>
            </select>
          </div>
        </div>

        <!-- ุฅุฌุงุฒุฉ ุฏุงุฎููุฉ -->
        <div id="vac_internalFields" class="grid-2">
          <div>
            <label>ุงูููุจู ุงูุฏู</label>
            <input type="number" id="vac_copyId" class="input" placeholder="ุฃุฏุฎู ุงูููุจู ุงูุฏู">
          </div>
          <div>
            <label>ุงููููููุฏุฉ (ุจุงูุณุงุนุงุช)</label>
            <input type="number" id="vac_duration" class="input" placeholder="ุนุฏุฏ ุงูุณุงุนุงุช">
          </div>
          <div>
            <label>ุงูุฑุตูุฏ ุงููุชุจูู (ุจุงูุณุงุนุงุช)</label>
            <input type="number" id="vac_balance" class="input" placeholder="ุนุฏุฏ ุงูุณุงุนุงุช">
          </div>
          <div>
            <label>ููุช ุจุฏุก ุงูุฅุฌุงุฒุฉ</label>
            <div class="time-group">
              <input type="number" id="vac_startHour" class="input" placeholder="ุงูุณุงุนุฉ (1-12)">
              <input type="number" id="vac_startMinute" class="input" placeholder="ุงูุฏูููุฉ (0-59)">
              <select id="vac_startPeriod" class="input">
                <option value="ุต">ุตุจุงุญูุง</option>
                <option value="ู">ูุณุงุกู</option>
              </select>
            </div>
          </div>
        </div>

        <!-- ุงูุงูุชุฏุงุจุงุช -->
        <div id="vac_secondmentFields" class="grid-2" style="display:none">
          <div>
            <label>ุงูููุจู ุงูุฏู</label>
            <input type="number" id="sec_copyId" class="input" placeholder="ุฃุฏุฎู ุงูููุจู ุงูุฏู">
          </div>
          <div>
            <label>ุงุณู ุงูููุชุฏุจ ู ููุฏู</label>
            <input type="text" id="sec_nameCode" class="input" placeholder="ุงูุชุจ ุงูุงุณู ูุงูููุฏ">
          </div>
          <div>
            <label>ุงููุทุงุน ุงูููุชุฏุจ ูู</label>
            <select id="sec_sector" class="input">
              <option value="">ุงุฎุชุฑ ุงููุทุงุน</option>
              <option>ุขูู ุงูุทุฑู</option>
              <option>ุขูู ุงูููุดุขุช</option>
              <option>ุญุฑุณ ุงูุญุฏูุฏ</option>
              <option>ุงูููุงู ุงูุฃุญูุฑ</option>
              <option>ุขูู ุนุงู</option>
              <option>ููุงุช ุงูุทุคุงุฑุฆ</option>
            </select>
          </div>
          <div>
            <label>ุงููุฏุฉ (ุจุงูุฃูุงู)</label>
            <input type="number" id="sec_days" class="input" placeholder="ุนุฏุฏ ุงูุฃูุงู">
          </div>
        </div>

        <div class="actions">
          <button class="btn" onclick="vac_generateVacation()">ุฅูุดุงุก ุงูุฅุฌุงุฒุฉ</button>
          <button class="btn" onclick="vac_copyResult()">๐ ูุณุฎ ุงููุชูุฌุฉ</button>
        </div>
        <pre id="vac_output" class="output"></pre>
      </section>

      <!-- ================= RESIGNATION ================= -->
      <section id="resignBox" class="card pane">
        <h2>๐ ูููุฐุฌ ุงูุงุณุชูุงูุฉ</h2>

        <div class="grid-2">
          <div>
            <label>ุงุณุชูุงูุฉ ููู ุ</label>
            <select id="res_type" class="input" onchange="res_toggleLevel()">
              <option value="ูุณุชูู ูุชุฏุฑุจ">ูุณุชูู ูุชุฏุฑุจ</option>
              <option value="ูุณุชูู 1">ูุณุชูู 1</option>
              <option value="ุงุนูู">ูุณุชูู 2 ูุฃุนูู</option>
            </select>
          </div>

          <div>
            <label>ุงูููุจู ุงูุฏู</label>
            <input type="number" id="res_copyId" class="input" placeholder="ุฃุฏุฎู ุงูููุจู ุงูุฏู">
          </div>

          <div id="res_levelBox" style="display:none">
            <label>ุฑูู ุงููุณุชูู (2 ูุฃุนูู)</label>
            <input type="number" id="res_levelNumber" class="input" min="2" placeholder="ุฃุฏุฎู ุฑูู ุงููุณุชูู">
          </div>

          <div>
            <label>ุงุณู ูููุฏ ุงูููู ูุชุงุจุชุง</label>
            <input type="text" id="res_nameCode" class="input" placeholder="ุงูุชุจ ุงูุงุณู ูุงูููุฏ ูุชุงุจุชุงู">
          </div>

          <div>
            <label>ููุจู ุงูุฏู ุงููุดุฑู</label>
            <input type="number" id="res_supervisorId" class="input" placeholder="ุฃุฏุฎู ููุจู ุงูุฏู ุงููุดุฑู">
          </div>
        </div>

        <div class="actions">
          <button class="btn" onclick="res_generate()">ุฅูุดุงุก ุงูุฑุณุงูุฉ</button>
          <button class="btn" onclick="res_copy()">๐ ูุณุฎ ุงููุชูุฌุฉ</button>
        </div>
        <pre id="res_output" class="output"></pre>
      </section>

      <!-- ================= VIOLATIONS ================= -->
      <section id="violBox" class="card pane">
        <h2>๐ ุงููุฎุงููุงุช</h2>

        <div class="grid-2">
          <div>
            <label>ุงูููุจู ุงูุฏู</label>
            <input type="number" id="vio_copyId" class="input" placeholder="ุฃุฏุฎู ุงูููุจู ุงูุฏู">
          </div>

          <div>
            <label>ุฑูู ุงูุฅูุฐุงุฑ ุงููุธููู</label>
            <select id="vio_warningLevel" class="input" onchange="vio_toggleByLevel()">
              <option value="ุดููู">ุดููู</option>
              <option value="ุงูู">ุงูู</option>
              <option value="ุซุงูู">ุซุงูู</option>
              <option value="ููุงุฆู">ููุงุฆู</option>
            </select>
          </div>

          <div id="vio_fineRow">
            <label>ูููุฉ ุงูุบุฑุงูุฉ</label>
            <input type="number" id="vio_fineAmount" class="input" placeholder="ุฃุฏุฎู ูููุฉ ุงูุบุฑุงูุฉ">
          </div>

          <div id="vio_supervisorRow">
            <label>ููุจู ุงูุฏู ุงููุดุฑู</label>
            <input type="number" id="vio_supervisorId" class="input" placeholder="ุฃุฏุฎู ููุจู ุงูุฏู ุงููุดุฑู">
          </div>
        </div>

        <label>ุงููุฎุงููุงุช</label>
        <div class="custom-dropdown" id="vio_dropdown">
          <div class="cd-selected" onclick="toggleDropdown('vio')">
            <span class="placeholder">ุงุฎุชุฑ ุงููุฎุงููุฉ</span>
            <span>โพ</span>
          </div>
          <div class="cd-panel" id="vio_panel" role="listbox" aria-hidden="true">
            <div class="cd-option">ุงูุชูุฑุจ ูู ุงููุญุงุณุจุฉ</div>
            <div class="cd-option">ุงุณุชุฎุฏุงู ุฎูุงุต ุงููููุงููู ูููุตูุญุฉ ุงูุดุฎุตูุฉ</div>
            <div class="cd-option">ุนุฏู ุงุญุชุฑุงู  ุงููููุงูููู ุงู ุงูููุงุฏุฉ ุงู ุงููุดุฑู</div>
            <div class="cd-option">ุงุณุชูุงูู ุจุฑุชุจุฉ ูุณุชูู ูุชุฏุฑุจ ุงู ูุณุชูู 1</div>
            <div class="cd-option">ุงุซุงุฑู ุงูุฌุฏู ุจุงูุดุงุช ุงูุนุงู ุงู ุฑุณุงุฆู ุงููููุงููู</div>
            <div class="cd-option">ุฃู ุชูุงุนุจ ุจุงูููุงุชูุฑ</div>
            <div class="cd-option">ุงุณุชุฎุฑุงุฌ ูุฑูุจุงุช ุงู ุงุณุชุฆุฌุงุฑ ุฏุจุงุจ ุจูุฏู ุงูุญุฌุฒ</div>
            <div class="cd-option">ุงูุงุฌุฑุงู ุจูุธูู ุงููููุงููู</div>
            <div class="cd-option">ุชูุงุฌุฏ ูู ูุฏู ุงุฎุฑุง</div>
            <div class="cd-option">ุงูุฎุฑูุฌ ูู ุบุฑูุฉ ุงูุนูููุงุช ุฏูู ุชุณููู ูุฌููุน ุงูููุงู ุงูููุฏุงููุฉ ( ุงูุนูููุงุช + ุงููุงุฆุจ + ุงูุงุชุตุงูุงุช)</div>
            <div class="cd-option">ุฏุฎูู ููุฌู ุงูุฑูุงุจุฉ ูุงูุชูุชูุด</div>
            <div class="cd-option">ุงูุณุฌู ุงูุฑูุงุจู</div>
            <div class="cd-option">ุนุฏู ุงุญุชุฑุงู ุงูุฑุงุฏ ุงููุทุงุนุงุช ู ุงูููุงุทููู - ุงูุชูุฑุจ ูู ุชูุจููุงุช ุงููุดุฑู</div>
            <div class="cd-option">ุงูุชุตุฏูู ุงููุชุนูุฏ ูุบุฑุถ ุชุนุฏูู ุงููุฑูุจู</div>
            <div class="cd-option">ุนุฏู ุงูุฌุฏูุฉ ุจุงูููุฏุงู</div>
            <div class="cd-option">ุชุฎุทู ูุฑุงุฌุน</div>
            <div class="cd-option">ุญูุงุฒู ุณูุงุญ ุงู ููููุนุงุช</div>
            <div class="cd-option">ูุฎุงููุงุช ุงูุชุนุฏูู ู ุงูุชุฒููุฏ</div>
            <div class="cd-option">ุชุนุฏูู ู ุชุฒููุฏ ุงููุฑูุจุงุช ุงูุชู ุชููู ุงูุณุณูุงุฑุงุช ุฃู ุฃูุณุชุฑุง ุงุณูุญุฉ</div>
            <div class="cd-option">ูุญุต ุงู ุชุนุฏูู ู ุชุฒููุฏ ุงููุฑูุจุงุช ูู ุฎุงุฑุฌ ุงููุงุช ุงูุงูุชุชุงุญ</div>
            <div class="cd-option">ุงูุชูุงุนุจ ูู ูุณุงุฑุงุช ุงูุชุนุฏูู ู ุงูุชุฒููุฏ</div>
            <div class="cd-option">ูุฎุงููุฉ ููุงููู ุงูุชุนุฏูู ู ุงูุชุฒููุฏ (ุชุนุฏูู ูุฑูุจุฉ ุจุฏูู ุชูุฌูู)</div>
            <div class="cd-option">ูุฎุงููุฉ ููุงููู ุงูุชุนุฏูู ู ุงูุชุฒููุฏ</div>
            <div class="cd-option">ูุฎุงููุฉ ููุงููู ุงูุชุนุฏูู ู ุงูุชุฒููุฏ (ุนุฏู ูุฑุงุฌุนุฉ ุงูุชูุฑูุฑ ุจุนุฏ ุงุฑุณุงูู )</div>
            <div class="cd-option">ุชุนุฏูู ู ุชุฒููุฏ ุงููุฑูุจุฉ ุงูุฎุงุตู ุจู ุงููููุฏุณ ุจููุณู</div>
            <div class="cd-option">ุงูุตูุน ุงู ุงูุถุฑุจ</div>
            <div class="cd-option">ุงูุงูุชุฏุงุจ ููุช ุงูุชูุธูู</div>
            <div class="cd-option">ุฏุฎูู ุฑูู ุงููุงุฏุฑ ุงููุณุงุฆู</div>
            <div class="cd-option">ุงูุชุฏุฎู ูู ุงูุดุคูู ุงูุฃุฏุงุฑูู</div>
            <div class="cd-option">ุชุนุฏูู ุงูุฒู ุงูุฑุณูู ูููุทุงุน ุงู ุงุถุงูู ุงููุดูู</div>
            <div class="cd-option">ุงูุงุนุชุฑุงุถ ุนูู ุงูุชุฑููุฉ ุงู ูุฎุงููุฉ ุจุฏูู ุงูุชุญูู ูู ุงููุงู ุงูุดุฑูุท</div>
            <div class="cd-option">ูุชุญ ุชูุช ุงุฌุงุฒุฉ ุบูุฑ ูุทุงุจูุฉ ููุดุฑูุท</div>
            <div class="cd-option">ุงูุชุงุฎุฑ ูู ุงูุนูุฏุฉ ูู ุงูุงุฌุงุฒุฉ ุงูุฏุงุฎููุฉ</div>
            <div class="cd-option">ุชุบููุฑ ุงููุธููุฉ ูุจู ุงุจุชุฏุงุก ุงูุงุฌุงุฒุฉ ุงูุฏุงุฎููุฉ</div>
            <div class="cd-option">ุงูุชูุฑุจ ูู ุงุณุชูุงู ููุงู ุงูุนูููุงุช ุงู ูุงุฆุจ ุงูุนูููุงุช ุงู ูุฑูุฒ ุงูุงุชุตุงูุงุช</div>
            <div class="cd-option">ุงูุฒุงู ุงูุณุทุญุฉ ุงุซูุงุก ุงูููุงุฏุฉ</div>
            <div class="cd-option">ุงุตูุงุญ ุงููุฑูุจุงุช ูู ุฎูุงู ูุงุฆูุฉ F6 ( ุจุฅุณุชุซูุงุก ุงููุฑูุจุงุช ุงูุญููููุฉ )</div>
            <div class="cd-option">ุชุฑู ุงูุจูุงุจุงุช ุงููุฑุงุฌ ููุชูุญุฉ</div>
            <div class="cd-option">ุชุฎุทู ูุฑุงุฌุน ูู ุงูุฑุงุฏูู</div>
            <div class="cd-option">ุงูููุฒ ูู ุงูุฏุฑุฌ ุฏุงุฎู SRT</div>
            <div class="cd-option">ุนุฏู ุงูุงุณุชุฌุงุจุฉ ููุงุณุชุฏุนุงุก ูู ูุจู ุงููุดุฑููู ุฎูุงู 24 ุณุงุนุฉ</div>
            <div class="cd-option">ุนุฏู ุงุฎุฐ ููุฏ 7 ู ุงูุชุฃููู</div>
            <div class="cd-option">ุงูุชุณุทูุญ ุฏุงุฎู ุญุฌุฒ ููุณ ุฏูู ุชูุฌูู</div>
            <div class="cd-option">ุงูุชูุฌู ููุฃูุงูู ุงููุญุถูุฑู ุฏูู ุชูุฌูู</div>
            <div class="cd-option">ุงูููุงุฏุฉ ุงููุชููุฑุฉ</div>
            <div class="cd-option">ุนุฏู ูุทุงุจูุฉ ุงูุงุณู + ุงูุงุณู ูู ูุงูู ุงู</div>
            <div class="cd-option">ุงูุชุณุทูุญ ุฏุงุฎู ูุฏุงุก ุงูุงุณุชุบุงุซุฉ</div>
            <div class="cd-option">ุงููุงู ูุฑูุจุฉ</div>
            <div class="cd-option">ุนุฏู ุงูุงุณุชุฌุงุจุฉ ุนูู ุงูุฑุงุฏูู - ุนุฏู ุชุทุจูู ุชูุฌููุงุช ุงูุนูููุงุช ุงู ุงููุงุฆุจ</div>
            <div class="cd-option">ุนุฏู ุงูุงูุชุฒุงู ูู ูุงุฆูุฉ ุงุณุนุงุฑ ุงููุฑุงุฌ</div>
            <div class="cd-option">ุงุฎุฐ ููุฏ 7 ู ุนุฏู ุงูุฑุฌูุน ุจุนุฏ ุงูููุช ุงููุญุฏุฏ</div>
            <div class="cd-option">ุนุฏู ุชุณุฌูู ุงูุฏุฎูู ูู ุงููุธููุฉ</div>
            <div class="cd-option">ุงูุจูุงุก ูู ุฑูู ุงููุฑุงุฌ</div>
            <div class="cd-option">ุนุฏู ุฏุฎูู ุงูููุฌุฉ</div>
          </div>
        </div>
        <input type="hidden" id="vio_selected" value="">
        <div class="actions">
          <button class="btn" onclick="vio_generate()">ุฅูุดุงุก ุงูุฅูุฐุงุฑ</button>
          <button class="btn" onclick="vio_copy()">๐ ูุณุฎ ุงููุชูุฌุฉ</button>
        </div>
        <pre id="vio_output" class="output"></pre>
      </section>

      <!-- ================= ABSENT ================= -->
      <section id="absBox" class="card pane">
        <h2>๐งฒ ูููุฐุฌ ุฅุณุชุฏุนุงุก ููููู ุงูุฐู ูู ูุญุถุฑ</h2>

        <div class="grid-2">
          <div>
            <label>ุงูููุจู ุงูุฏู</label>
            <input type="number" id="abs_copyId" class="input" placeholder="ุฃุฏุฎู ุงูููุจู ุงูุฏู">
          </div>
          <div>
            <label>ูููุฉ ุงููุฎุงููุฉ</label>
            <input type="number" id="abs_penalty" class="input" placeholder="ุฃุฏุฎู ูููุฉ ุงููุฎุงููุฉ">
          </div>
          <div>
            <label>ุงูุฅูุฐุงุฑ ุงููุณุชุญูุ</label>
            <select id="abs_warning" class="input">
              <option value="">ุงุฎุชุฑ ุงูุฅูุฐุงุฑ</option>
              <option>ุดููู</option>
              <option>ุงูู</option>
              <option>ุซุงูู</option>
              <option>ููุงุฆู</option>
            </select>
          </div>
          <div>
            <label>ูู ุชุชู ูุฎุงููุชู ุจุณุจุจ</label>
            <input type="text" id="abs_notPunished" class="input" placeholder="ุฃุฏุฎู ุงูุณุจุจ">
          </div>
        </div>

        <label>ุณุจุจ ุงูุงุณุชุฏุนุงุก</label>
        <div class="custom-dropdown" id="abs_dropdown">
          <div class="cd-selected" onclick="toggleDropdown('abs')">
            <span class="placeholder">ุงุฎุชุฑ ุงูุณุจุจ</span>
            <span>โพ</span>
          </div>
          <div class="cd-panel" id="abs_panel" role="listbox" aria-hidden="true">
            <!-- ููุณ ุงููุงุฆูุฉ ููุง ูู ุงููุฎุงููุงุช (ููููู ุชูุตูุฑูุง ุฅุฐุง ุฑุบุจุช) -->
            <div class="cd-option">ุงูุชูุฑุจ ูู ุงููุญุงุณุจุฉ</div>
            <div class="cd-option">ุงุณุชุฎุฏุงู ุฎูุงุต ุงููููุงููู ูููุตูุญุฉ ุงูุดุฎุตูุฉ</div>
            <div class="cd-option">ุนุฏู ุงุญุชุฑุงู  ุงููููุงูููู ุงู ุงูููุงุฏุฉ ุงู ุงููุดุฑู</div>
            <div class="cd-option">ุงุณุชูุงูู ุจุฑุชุจุฉ ูุณุชูู ูุชุฏุฑุจ ุงู ูุณุชูู 1</div>
            <div class="cd-option">ุงุซุงุฑู ุงูุฌุฏู ุจุงูุดุงุช ุงูุนุงู ุงู ุฑุณุงุฆู ุงููููุงููู</div>
            <div class="cd-option">ุฃู ุชูุงุนุจ ุจุงูููุงุชูุฑ</div>
            <div class="cd-option">ุงุณุชุฎุฑุงุฌ ูุฑูุจุงุช ุงู ุงุณุชุฆุฌุงุฑ ุฏุจุงุจ ุจูุฏู ุงูุญุฌุฒ</div>
            <div class="cd-option">ุงูุงุฌุฑุงู ุจูุธูู ุงููููุงููู</div>
            <div class="cd-option">ุชูุงุฌุฏ ูู ูุฏู ุงุฎุฑุง</div>
            <div class="cd-option">ุงูุฎุฑูุฌ ูู ุบุฑูุฉ ุงูุนูููุงุช ุฏูู ุชุณููู ูุฌููุน ุงูููุงู ุงูููุฏุงููุฉ ( ุงูุนูููุงุช + ุงููุงุฆุจ + ุงูุงุชุตุงูุงุช)</div>
            <div class="cd-option">ุฏุฎูู ููุฌู ุงูุฑูุงุจุฉ ูุงูุชูุชูุด</div>
            <div class="cd-option">ุงูุณุฌู ุงูุฑูุงุจู</div>
            <div class="cd-option">ุนุฏู ุงุญุชุฑุงู ุงูุฑุงุฏ ุงููุทุงุนุงุช ู ุงูููุงุทููู - ุงูุชูุฑุจ ูู ุชูุจููุงุช ุงููุดุฑู</div>
            <div class="cd-option">ุงูุชุตุฏูู ุงููุชุนูุฏ ูุบุฑุถ ุชุนุฏูู ุงููุฑูุจู</div>
            <div class="cd-option">ุนุฏู ุงูุฌุฏูุฉ ุจุงูููุฏุงู</div>
            <div class="cd-option">ุชุฎุทู ูุฑุงุฌุน</div>
            <div class="cd-option">ุญูุงุฒู ุณูุงุญ ุงู ููููุนุงุช</div>
            <div class="cd-option">ูุฎุงููุงุช ุงูุชุนุฏูู ู ุงูุชุฒููุฏ</div>
            <div class="cd-option">ุชุนุฏูู ู ุชุฒููุฏ ุงููุฑูุจุงุช ุงูุชู ุชููู ุงูุณุณูุงุฑุงุช ุฃู ุฃูุณุชุฑุง ุงุณูุญุฉ</div>
            <div class="cd-option">ูุญุต ุงู ุชุนุฏูู ู ุชุฒููุฏ ุงููุฑูุจุงุช ูู ุฎุงุฑุฌ ุงููุงุช ุงูุงูุชุชุงุญ</div>
            <div class="cd-option">ุงูุชูุงุนุจ ูู ูุณุงุฑุงุช ุงูุชุนุฏูู ู ุงูุชุฒููุฏ</div>
            <div class="cd-option">ูุฎุงููุฉ ููุงููู ุงูุชุนุฏูู ู ุงูุชุฒููุฏ (ุชุนุฏูู ูุฑูุจุฉ ุจุฏูู ุชูุฌูู)</div>
            <div class="cd-option">ูุฎุงููุฉ ููุงููู ุงูุชุนุฏูู ู ุงูุชุฒููุฏ</div>
            <div class="cd-option">ูุฎุงููุฉ ููุงููู ุงูุชุนุฏูู ู ุงูุชุฒููุฏ (ุนุฏู ูุฑุงุฌุนุฉ ุงูุชูุฑูุฑ ุจุนุฏ ุงุฑุณุงูู )</div>
            <div class="cd-option">ุชุนุฏูู ู ุชุฒููุฏ ุงููุฑูุจุฉ ุงูุฎุงุตู ุจู ุงููููุฏุณ ุจููุณู</div>
            <div class="cd-option">ุงูุตูุน ุงู ุงูุถุฑุจ</div>
            <div class="cd-option">ุงูุงูุชุฏุงุจ ููุช ุงูุชูุธูู</div>
            <div class="cd-option">ุฏุฎูู ุฑูู ุงููุงุฏุฑ ุงููุณุงุฆู</div>
            <div class="cd-option">ุงูุชุฏุฎู ูู ุงูุดุคูู ุงูุฃุฏุงุฑูู</div>
            <div class="cd-option">ุชุนุฏูู ุงูุฒู ุงูุฑุณูู ูููุทุงุน ุงู ุงุถุงูู ุงููุดูู</div>
            <div class="cd-option">ุงูุงุนุชุฑุงุถ ุนูู ุงูุชุฑููุฉ ุงู ูุฎุงููุฉ ุจุฏูู ุงูุชุญูู ูู ุงููุงู ุงูุดุฑูุท</div>
            <div class="cd-option">ูุชุญ ุชูุช ุงุฌุงุฒุฉ ุบูุฑ ูุทุงุจูุฉ ููุดุฑูุท</div>
            <div class="cd-option">ุงูุชุงุฎุฑ ูู ุงูุนูุฏุฉ ูู ุงูุงุฌุงุฒุฉ ุงูุฏุงุฎููุฉ</div>
            <div class="cd-option">ุชุบููุฑ ุงููุธููุฉ ูุจู ุงุจุชุฏุงุก ุงูุงุฌุงุฒุฉ ุงูุฏุงุฎููุฉ</div>
            <div class="cd-option">ุงูุชูุฑุจ ูู ุงุณุชูุงู ููุงู ุงูุนูููุงุช ุงู ูุงุฆุจ ุงูุนูููุงุช ุงู ูุฑูุฒ ุงูุงุชุตุงูุงุช</div>
            <div class="cd-option">ุงูุฒุงู ุงูุณุทุญุฉ ุงุซูุงุก ุงูููุงุฏุฉ</div>
            <div class="cd-option">ุงุตูุงุญ ุงููุฑูุจุงุช ูู ุฎูุงู ูุงุฆูุฉ F6 ( ุจุฅุณุชุซูุงุก ุงููุฑูุจุงุช ุงูุญููููุฉ )</div>
            <div class="cd-option">ุชุฑู ุงูุจูุงุจุงุช ุงููุฑุงุฌ ููุชูุญุฉ</div>
            <div class="cd-option">ุชุฎุทู ูุฑุงุฌุน ูู ุงูุฑุงุฏูู</div>
            <div class="cd-option">ุงูููุฒ ูู ุงูุฏุฑุฌ ุฏุงุฎู SRT</div>
            <div class="cd-option">ุนุฏู ุงูุงุณุชุฌุงุจุฉ ููุงุณุชุฏุนุงุก ูู ูุจู ุงููุดุฑููู ุฎูุงู 24 ุณุงุนุฉ</div>
            <div class="cd-option">ุนุฏู ุงุฎุฐ ููุฏ 7 ู ุงูุชุฃููู</div>
            <div class="cd-option">ุงูุชุณุทูุญ ุฏุงุฎู ุญุฌุฒ ููุณ ุฏูู ุชูุฌูู</div>
            <div class="cd-option">ุงูุชูุฌู ููุฃูุงูู ุงููุญุถูุฑู ุฏูู ุชูุฌูู</div>
            <div class="cd-option">ุงูููุงุฏุฉ ุงููุชููุฑุฉ</div>
            <div class="cd-option">ุนุฏู ูุทุงุจูุฉ ุงูุงุณู + ุงูุงุณู ูู ูุงูู ุงู</div>
            <div class="cd-option">ุงูุชุณุทูุญ ุฏุงุฎู ูุฏุงุก ุงูุงุณุชุบุงุซุฉ</div>
            <div class="cd-option">ุงููุงู ูุฑูุจุฉ</div>
            <div class="cd-option">ุนุฏู ุงูุงุณุชุฌุงุจุฉ ุนูู ุงูุฑุงุฏูู - ุนุฏู ุชุทุจูู ุชูุฌููุงุช ุงูุนูููุงุช ุงู ุงููุงุฆุจ</div>
            <div class="cd-option">ุนุฏู ุงูุงูุชุฒุงู ูู ูุงุฆูุฉ ุงุณุนุงุฑ ุงููุฑุงุฌ</div>
            <div class="cd-option">ุงุฎุฐ ููุฏ 7 ู ุนุฏู ุงูุฑุฌูุน ุจุนุฏ ุงูููุช ุงููุญุฏุฏ</div>
            <div class="cd-option">ุนุฏู ุชุณุฌูู ุงูุฏุฎูู ูู ุงููุธููุฉ</div>
            <div class="cd-option">ุงูุจูุงุก ูู ุฑูู ุงููุฑุงุฌ</div>
            <div class="cd-option">ุนุฏู ุฏุฎูู ุงูููุฌุฉ</div>
          </div>
        </div>
        <input type="hidden" id="abs_selected" value="">

        <div class="actions">
          <button class="btn" onclick="abs_generate()">ุฅูุดุงุก ุงูุฑุณุงูุฉ</button>
          <button class="btn" onclick="abs_copy()">๐ ูุณุฎ</button>
        </div>
        <pre id="abs_output" class="output"></pre>
      </section>

      <!-- ================= EXTERNAL VACATION ================= -->
      <section id="extBox" class="card pane">
        <h2>โ๏ธ ุฅุฌุงุฒุฉ ุฎุงุฑุฌูุฉ</h2>

        <div class="grid-2">
          <div>
            <label>ุงูุงุฌุงุฒุฉ ูููุ</label>
            <select id="ext_personType" class="input">
              <option value="ููู">ููู</option>
              <option value="ูุดุฑู">ูุดุฑู</option>
            </select>
          </div>

          <div>
            <label>ุงูููุจู ุงูุฏู</label>
            <input type="number" id="ext_copyId" class="input" placeholder="ุฃุฏุฎู ุงูููุจู ุงูุฏู">
          </div>

          <div>
            <label>ูุฏุฉ ุงูุงุฌุงุฒ ุจุงูุงูุงู</label>
            <input type="number" id="ext_days" class="input" placeholder="ุนุฏุฏ ุงูุฃูุงู">
          </div>
        </div>

        <div class="actions">
          <button class="btn" onclick="ext_generate()">ุฅูุดุงุก ุงูุฅุฌุงุฒุฉ ุงูุฎุงุฑุฌูุฉ</button>
          <button class="btn" onclick="ext_copy()">๐ ูุณุฎ</button>
        </div>
        <pre id="ext_output" class="output"></pre>
      </section>

    </main>
  </div>

  <script>
    // ---------- Router (sidebar + chips) ----------
    document.querySelectorAll('[data-target]').forEach(btn => {
      btn.addEventListener('click', () => show(btn.getAttribute('data-target')));
    });
    function show(id){
      document.querySelectorAll('.pane').forEach(p => p.classList.remove('active'));
      const el = document.getElementById(id);
      if (el) el.classList.add('active');
      closeAllDropdowns();
    }
    show('vacBox');

    // ---------- Dropdowns ----------
    function toggleDropdown(name){
      const panel = document.getElementById(name + '_panel');
      const isOpen = panel.style.display === 'block';
      closeAllDropdowns();
      if(!isOpen){
        panel.style.display = 'block';
        panel.setAttribute('aria-hidden','false');
      }
    }
    function closeAllDropdowns(){
      document.querySelectorAll('.cd-panel').forEach(p=>{
        p.style.display='none';
        p.setAttribute('aria-hidden','true');
      });
    }
    document.addEventListener('click', function(e){
      // Violations picker
      if(e.target.closest('#vio_panel') && e.target.classList.contains('cd-option')){
        const val = e.target.innerText.trim();
        document.getElementById('vio_selected').value = val;
        const sel = document.querySelector('#vio_dropdown .cd-selected .placeholder');
        if(sel) sel.innerText = val;
        document.querySelectorAll('#vio_panel .cd-option').forEach(o=>o.classList.remove('selected'));
        e.target.classList.add('selected');
        closeAllDropdowns();
        e.stopPropagation();
        return;
      }
      // Absent picker
      if(e.target.closest('#abs_panel') && e.target.classList.contains('cd-option')){
        const val = e.target.innerText.trim();
        document.getElementById('abs_selected').value = val;
        const sel = document.querySelector('#abs_dropdown .cd-selected .placeholder');
        if(sel) sel.innerText = val;
        document.querySelectorAll('#abs_panel .cd-option').forEach(o=>o.classList.remove('selected'));
        e.target.classList.add('selected');
        closeAllDropdowns();
        e.stopPropagation();
        return;
      }
      if(!e.target.closest('.custom-dropdown')) closeAllDropdowns();
    });
    document.addEventListener('keydown', e => { if(e.key === 'Escape') closeAllDropdowns(); });

    // ---------- Vacation UI toggle ----------
    function vac_toggleFields(){
      const type = document.getElementById('vac_vacType').value;
      document.getElementById('vac_internalFields').style.display = (type === 'ุงูุงูุชุฏุงุจุงุช') ? 'none' : 'grid';
      document.getElementById('vac_secondmentFields').style.display = (type === 'ุงูุงูุชุฏุงุจุงุช') ? 'grid' : 'none';
    }

    // ---------- Violations UI toggle ----------
    function vio_toggleByLevel(){
      const level = document.getElementById('vio_warningLevel').value;
      const fineRow = document.getElementById('vio_fineRow');
      fineRow.style.display = (level === 'ุดููู') ? 'none' : 'block';
    }
    vio_toggleByLevel();

    // ---------- Utility: copy helper ----------
    function copyToClipboard(text){
      if(!text || !text.trim()){
        alert("โ๏ธ ูุง ููุฌุฏ ูุชูุฌุฉ ููุณุฎูุง"); return;
      }
      if (navigator.clipboard && window.isSecureContext) {
        navigator.clipboard.writeText(text)
          .then(()=>alert("โ ุชู ุงููุณุฎ"))
          .catch(()=>fallbackCopy(text));
      } else {
        fallbackCopy(text);
      }
      function fallbackCopy(t){
        const ta = document.createElement('textarea');
        ta.value = t; ta.setAttribute('readonly','');
        ta.style.position='fixed'; ta.style.top='-9999px';
        document.body.appendChild(ta);
        ta.select();
        try{ document.execCommand('copy'); alert("โ ุชู ุงููุณุฎ"); }
        catch(e){ alert("โ ุงูุณุฎ ูุฏูููุง."); }
        finally{ document.body.removeChild(ta); }
      }
    }
    function setOut(id, txt){ const el=document.getElementById(id); el.innerText=txt; el.style.display='block'; }
    function vac_copyResult(){ copyToClipboard(document.getElementById('vac_output')?.innerText || ""); }
    function res_copy(){ copyToClipboard(document.getElementById('res_output')?.innerText || ""); }
    function vio_copy(){ copyToClipboard(document.getElementById('vio_output')?.innerText || ""); }
    function abs_copy(){ copyToClipboard(document.getElementById('abs_output')?.innerText || ""); }
    function ext_copy(){ copyToClipboard(document.getElementById('ext_output')?.innerText || ""); }

    // ---------- Vacation (internal + secondment) ----------
    function vac_generateVacation(){
      const type = document.getElementById('vac_vacType').value;

      // ุงูุงูุชุฏุงุจุงุช
      if(type === 'ุงูุงูุชุฏุงุจุงุช'){
        const copyId = (document.getElementById('sec_copyId').value || '').trim();
        const nameCode = (document.getElementById('sec_nameCode').value || '').trim();
        const sector = document.getElementById('sec_sector').value;
        const days = (document.getElementById('sec_days').value || '').trim();
        if(!copyId || !nameCode || !sector || !days){
          alert("โ๏ธ ูุฑุฌู ุชุนุจุฆุฉ ุฌููุน ุญููู ุงูุงูุชุฏุงุจุงุช: ุงูููุจู ุงูุฏูุ ุงุณู ุงูููุชุฏุจ ูููุฏูุ ุงููุทุงุนุ ุงููุฏุฉ");
          return;
        }
        const result =
`*** โฌโฌโฌ ๏ทฝ โฌโฌ
\`\`\`ุงูููุถูุน : ุงูุชุฏุงุจ ุฎุงุฑุฌู \`\`\`
ุงูุณูุงู ุนูููู ูุฑุญูุฉ ุงููู ูุจุฑูุงุชูุ ูุจุนุฏ:
 \`\`\`cs
# ุฅุดุงุฑุฉ ุฅูู ุทูุจ ุงูููุธู ุงูููุถุญุฉ ุจูุงูุงุชู ุฃุฏูุงู ุจุดุฃู ุงูุงูุชุฏุงุจ ุฎุงุฑุฌ ุงููุฑุงุฌุ ูููุฏูู ุจุฃูู ุชูุช ุงูููุงููุฉ ุนูู ุทูุจู ููู ุงูุชูุงุตูู ุงูุชุงููุฉ:
\`\`\`

 ุงูุงุณู: <@${copyId}>
 ุงุณู ูููุฏ ุงูููุธู : ${nameCode}
 ุงููุทุงุน ุงูููุชุฏุจ ูู: ${sector}
 ุงููุฏุฉ: ${days} ููู

ูุฑุฌูุง ูู ุงูููุธู ุงูุชููุฏ ุจุงูุฃูุธูุฉ ูุงูุชุนูููุงุช ุงูุฎุงุตุฉ ุจุงูุงูุชุฏุงุจุงุชุ ูุงูุชูุณูู ูุน ุงูุฌูุฉ ุงููุนููุฉ ูุจู ุงููุจุงุดุฑุฉ.


<@&1149742928953086105> ***`;
        setOut('vac_output', result);
        return;
      }

      // ุฅุฌุงุฒุฉ ุฏุงุฎููุฉ
      const copyId = document.getElementById('vac_copyId').value.trim();
      const duration = parseInt(document.getElementById('vac_duration').value) || 0;
      const balance  = parseInt(document.getElementById('vac_balance').value) || 0;
      let   startHour    = parseInt(document.getElementById('vac_startHour').value) || 0;
      let   startMinute  = parseInt(document.getElementById('vac_startMinute').value) || 0;
      const period = document.getElementById('vac_startPeriod').value;

      if(!copyId || duration <= 0 || balance <= 0 || startHour <= 0){
        alert("โ๏ธ ูุฑุฌู ุฅุฏุฎุงู ุฌููุน ุงูุญููู ุจุดูู ุตุญูุญ"); return;
      }
      if(period === "ู" && startHour < 12) startHour += 12;
      if(period === "ุต" && startHour === 12) startHour = 0;

      let tzDate = new Date(new Date().toLocaleString("en-US", { timeZone: "Asia/Riyadh" })); 
      let yyyy = tzDate.getFullYear();
      let mm = String(tzDate.getMonth()+1).padStart(2,'0');
      let dd = String(tzDate.getDate()).padStart(2,'0');

      let startDate = new Date(`${yyyy}-${mm}-${dd}T${String(startHour).padStart(2,'0')}:${String(startMinute).padStart(2,'0')}:00`);
      let endDate = new Date(startDate); endDate.setHours(endDate.getHours() + duration);

      function formatDate(date){
        let y=date.getFullYear(), m=String(date.getMonth()+1).padStart(2,'0'), d=String(date.getDate()).padStart(2,'0');
        let h=date.getHours(), min=String(date.getMinutes()).padStart(2,'0');
        let per=h>=12?"ู":"ุต"; h=h%12; h=h?h:12;
        return `${y}/${m}/${d}| ${h}:${min}${per}`;
      }

      const headerText = document.getElementById('vac_vacType').value === "ูุดุฑู" ? "ุงููุดุฑู ุงููุญุชุฑู" : "ุงูููู ุงููุญุชุฑู";

      const result =
`***\` ุฅุฌุงุฒุฉ ุฏุงุฎููุฉ \`*** 

***\`${headerText} :\`***  <@${copyId}>   

***\`ุงููููููุฏุฉ :\` ${duration} ุณุงุนุฉ***  

***\`ุงูุฑุตูุฏ ุงููุชุจูู :\` ${balance - duration} ุณุงุนุฉ***  

***ูู ุชุงุฑูุฎ ${formatDate(startDate)}***  
***ุงูู ุชุงุฑูุฎ ${formatDate(endDate)}***  

***\`ููุงุญุธุฉ :\`***  
***ุชูุชูู ุงุฌุงุฒุชู ุจููุณ ุงูุชูููุช ุงููู ุจุชุฑุฌุน ููุฉ .***  

***\`ุชููููุงุช ูุงูุฉ ูุฌุจ ูุฑุงุฆุชูุง :\`***  

***01/ ุชุจุฏุฃ ุงูุฅุฌุงุฒุฉ ุงูุฎุงุตุฉ ุจู ูู ููุชูุง ุงููุญุฏุฏุ ูููููุน ุชุบููุฑ ุงููุธููุฉ ูุจู ุงููุฏุฉ ุงููุญุฏุฏุฉ ูุจุฏุก ุงูุฅุฌุงุฒุฉ.***  

***02/ ูุฌุจ ุงูุนูุฏุฉ ูู ุงูุฅุฌุงุฒุฉ ูุจู ุงูุชูุงุก ูุฏุชูุง ูุชุบููุฑ ุงููุธููุฉ ุฅูู ูุทุงุน ุงููููุงููู. ูู ูุฎุงูู ุฐูู ุณููุนุชุจุฑ ุชูุฑุจุงู ูุธูููุงู ูุณุชุชู ูุญุงุณุจุชู ูู ููุจู ุฅุฏุงุฑุฉ ุงููุฑุงุฌ.***  

***03/ ูู ุญุงู ุนูุฏู ุนุฐุฑ ููุฏูุชู ุจูุชุญ ุชูุช ุงุฌุงุฒุฉ ุณูุชู ููุท ุชุตููุฑ ุงุฌุงุฒุงุชู ูููุง ูุงู ุงูุณุจุจ ูุนุฏู ุงุนุทุงุฆู ุชูุฑุจ ูุธููู***  

***04/ ูู ุญุงู ุชู ุณุฌูู ุฑูุงุจูุง ุณูุชู ุชุทุจูู ุงูุนููุจู ุนููู ุญุณุจ [ููุงููู ุงูุงุฌุงุฒุงุช](https://ptb.discord.com/channels/1071933157097615480/1071934713524133918/1416990256070135900) ***  

***ูุฐูู ูู ุญุงู ุชุนุฏูุช ูุต ุงูุงุณุจูุน ( ุงูุซูุงุซุงุก ) ุงู ูุงู ุฑุตูุฏู ุงูู ูู ูุต ุงุฌูุงููู ุณูุชู ุชุตููุฑู ุงูุงุณุจูุน ุงูุญุงูู ูุงููุงุฏู***  

***05/ูููุน ููุนุงู ุจุงุชุงู ุชุบููุฑ ุงูุงุณู ุฏุงุฎู ุงูููุงุทุนุฉ ุญุณุจ [ููุงููู ุงูุงุฌุงุฒุงุช](https://ptb.discord.com/channels/1071933157097615480/1071934713524133918/1416990256070135900) ***

<@&1149742928953086105>`;
      setOut('vac_output', result);
    }

    // ---------- Resignation ----------
    function res_toggleLevel(){
      const t = document.getElementById('res_type').value;
      document.getElementById('res_levelBox').style.display = (t==='ุงุนูู') ? 'block' : 'none';
    }
    function res_generate(){
      const type = document.getElementById('res_type').value;
      const copyId = (document.getElementById('res_copyId').value || '').trim();
      const nameCode = (document.getElementById('res_nameCode').value || '').trim();
      const supervisorId = (document.getElementById('res_supervisorId').value || '').trim();
      const levelNumber = (document.getElementById('res_levelNumber').value || '').trim();

      if(!copyId){ alert("โ๏ธ ูุฑุฌู ุฅุฏุฎุงู ุงูููุจู ุงูุฏู"); return; }
      if(!nameCode){ alert("โ๏ธ ูุฑุฌู ุฅุฏุฎุงู ุงุณู ูููุฏ ุงูููู ูุชุงุจุชุงู"); return; }
      if(!supervisorId){ alert("โ๏ธ ูุฑุฌู ุฅุฏุฎุงู ููุจู ุงูุฏู ุงููุดุฑู"); return; }

      if(type === 'ูุณุชูู ูุชุฏุฑุจ' || type === 'ูุณุชูู 1'){
        const reasonLine = (type === 'ูุณุชูู ูุชุฏุฑุจ')
          ? "ุงุณุชูุงูุฉ ุจุฑุชุจุฉ ูุณุชูู (ูุชุฏุฑุจ )"
          : "ุงุณุชูุงูุฉ ุจุฑุชุจุฉ ูุณุชูู ( 1)";

        const txt =
`*** โฌโฌโฌ ๏ทฝ โฌโฌ
\`\`\`diff

-ุงูููุถูุน : ูุฑุงุฑ ุงููุงุก ุฎุฏูุงุช
\`\`\`
\`\`\`cs
# ุจุนุฏ ุงูุงุทูุงุน ุนูู ูุธุงู ุงูุชูุธูู ูุงูุชุฑููุงุช ูุงููุงุก ุงูุฎุฏูุฉ ุงูุตุงุฏุฑ ูู ุงุฏุงุฑุฉ ุงููุฑุงุฌ ูุฑุฑูุง ูุงููู 
 
ุงููุงู: ุชููู ุฎุฏูุงุช ุงูููู ุงุฏูุงู ุงุนุชุจุงุฑุง ูู ุชุงุฑูุฎู
ุซุงููุงู: ููุน ุชูุธูู 14 ููู
ุซุงูุซุงู:ุบุฑุงูู ูุงููุฉ ูุฏุฑูุง 1,000,000 ุชุณูู ุงูู ุฎุฒููุฉ ุงููุฑุงุฌ
\`\`\`

<@${copyId}>
${nameCode}

\`\`\`ูุฐูู ุจุณุจุจ : ${reasonLine} \`\`\`

\`ููุน ุงูุณุญุจ : \`  [ูุงุชูุฑุฉ](ุฑุงุจุท ุงููุงุชูุฑุฉ) 

\`ุงุนุชูุงุฏ:\` <@${supervisorId}>

\`ุชูููุน ูุฏูุฑ ุงูุฎุฒููุฉ: \`
<@1182445629721563177> 
<@&1071933343123386429> 

ูุฑุณู ุงูุงุตู ุงูู : 
<@&1149742928953086105> ***`;
        setOut('res_output', txt);
        return;
      }

      if(type === 'ุงุนูู'){
        if(!levelNumber || parseInt(levelNumber,10) < 2){
          alert("โ๏ธ ุฃุฏุฎู ุฑูู ูุณุชูู ุตุงูุญ (2 ูุฃุนูู)"); return;
        }
        const txt =
`*** โฌโฌโฌ ๏ทฝ โฌโฌ
\`\`\`diff

-ุงูููุถูุน : ูุฑุงุฑ ุงููุงุก ุฎุฏูุงุช
\`\`\`
\`\`\`cs
# ุจุนุฏ ุงูุงุทูุงุน ุนูู ูุธุงู ุงูุชูุธูู ูุงูุชุฑููุงุช ูุงููุงุก ุงูุฎุฏูุฉ ุงูุตุงุฏุฑ ูู ุงุฏุงุฑุฉ ุงููุฑุงุฌ ูุฑุฑูุง ูุงููู 
 
ุงููุงู: ุชููู ุฎุฏูุงุช ุงูููู ุงุฏูุงู ุงุนุชุจุงุฑุง ูู ุชุงุฑูุฎู\`\`\`

<@${copyId}>
${nameCode}

\`\`\`ูุฐูู ุจุณุจุจ : ุงุณุชูุงูุฉ ุจุฑุชุจุฉ ูุณุชูู (${levelNumber}) ุจูุงุกุงู ุนูู ุทูุจู \`\`\`

\`ุชูููุน ูุงุนุชูุงุฏ:\`
<@${supervisorId}>

\`ูุฑุณู ุงูุงุตู ุงูู : \`
<@&1149742928953086105> ***`;
        setOut('res_output', txt);
      }
    }

    // ---------- Violations ----------
    function vio_generate(){
      const copyId = (document.getElementById('vio_copyId').value || '').trim();
      const warningLevel = document.getElementById('vio_warningLevel').value;
      const fineAmount = (document.getElementById('vio_fineAmount')?.value || '').trim();
      const violation = document.getElementById('vio_selected').value || '';
      const supervisorId = (document.getElementById('vio_supervisorId')?.value || '').trim();

      if(!copyId){ alert("โ๏ธ ูุฑุฌู ุฅุฏุฎุงู ุงูููุจู ุงูุฏู"); return; }
      if(!violation){ alert("โ๏ธ ูุฑุฌู ุงุฎุชูุงุฑ ุณุจุจ ุงููุฎุงููุฉ"); return; }
      if(!supervisorId){ alert("โ๏ธ ูุฑุฌู ุฅุฏุฎุงู ููุจู ุงูุฏู ุงููุดุฑู"); return; }

      if(warningLevel === 'ุดููู'){
        const txt =
`โฌโฌโฌ ๏ทฝ โฌโฌ
\`\`\`diff

-ุงูููุถูุน : ุงูุฐุงุฑ (ุดููู) 
\`\`\`
\`\`\`cs
# ุจุนุฏ ุงูุงุทูุงุน ุนูู ูุธุงู ุงููุฎุงููุงุช ูุงูุนููุจุงุช ุงูุตุงุฏุฑ ูู ุงุฏุงุฑุฉ ุงููุฑุงุฌ ูุฑุฑูุง ูุงููู 
 
ุงููุงู: ุงูุฐุงุฑ (ุดููู) 
\`\`\`

 ุงูููุจู ุงูุฏู ููููู <@${copyId}>

\`\`\`ูุฐูู ุจุณุจุจ :  ${violation}\`\`\`


\`ุงุนุชูุงุฏ:\` <@${supervisorId}>`;
        setOut('vio_output', txt);
        return;
      }

      if(!fineAmount){ alert("โ๏ธ ูุฑุฌู ุฅุฏุฎุงู ูููุฉ ุงูุบุฑุงูุฉ"); return; }

      const txt =
`*** โฌโฌโฌ ๏ทฝ โฌโฌ
\`\`\`diff

-ุงูููุถูุน : ุงูุฐุงุฑ ูุธููู ูุบุฑุงูู ูุงููุฉ
\`\`\`
\`\`\`cs
# ุจุนุฏ ุงูุงุทูุงุน ุนูู ูุธุงู ุงููุฎุงููุงุช ูุงูุนููุจุงุช ุงูุตุงุฏุฑ ูู ุงุฏุงุฑุฉ ุงููุฑุงุฌ ูุฑุฑูุง ูุงููู 
 
ุงููุงู: ุงูุฐุงุฑ ูุธููู (${warningLevel})
ุซุงููุงู: ุบุฑุงูู ูุงููุฉ ูุฏุฑูุง ${fineAmount} ุชุณูู ุงูู ุฎุฒููุฉ ุงููุฑุงุฌ\`\`\`

<@${copyId}>

\`\`\`ูุฐูู ุจุณุจุจ : ${violation}\`\`\`

\`ููุน ุงูุณุญุจ : \`  [ูุงุชูุฑุฉ](ุฑุงุจุท ุงููุงุชูุฑุฉ) 

\`ุงุนุชูุงุฏ:\` <@${supervisorId}>

\`ุชูููุน ูุฏูุฑ ุงูุฎุฒููุฉ \`
<@1182445629721563177> 
<@&1071933343123386429> 

ูุฑุณู ุงูุงุตู ุงูู : 
<@&1149742928953086105> ***`;
      setOut('vio_output', txt);
    }

    // ---------- Absent ----------
    function abs_generate(){
      const copyId = document.getElementById('abs_copyId').value.trim();
      const reason = document.getElementById('abs_selected').value || '';
      const penalty = document.getElementById('abs_penalty').value.trim();
      const warning = document.getElementById('abs_warning').value;
      const notPunished = document.getElementById('abs_notPunished').value.trim();

      if(!copyId || !reason || !penalty || !warning){
        alert("ูุฑุฌู ููุก ุฌููุน ุงูุญููู ุงููุทููุจุฉ"); return;
      }

      const txt =
`***\`  ูููุฐุฌ ุฅุณุชุฏุนุงุก ููููู ุงูุฐู ูู ูุญุถุฑ  \`***

***\`ุงุณู ุงูููู\`***  <@${copyId}>

***\`ุณุจุจ ุงูุงุณุชุฏุนุงุก \`***   ${reason}

***\`ูููุฉ ุงููุฎุงููุฉ\`*** ${Number(penalty).toLocaleString()}

***\` ุงูุงูุฐุงุฑ ุงููุณุชุญู ุ : \`*** ${warning}

***\`ูู ุชุชู ูุฎุงููุชู ุจุณุจุจ\`*** ${notPunished}

***ุงูู ูุฌูู ุงูููู ูุนููู ุณุจุจ ุงููุฎุงููุฉ  ูููุฒูู ุงููุฎุงููุฉ ูู ุฑูู
https://ptb.discord.com/channels/1071933157097615480/1071934723858894868 ***  

***ูุณุฎู ุงูู***
 <@&1071933357136556183>  - <@&1142626431101325403>`;
      setOut('abs_output', txt);
    }

    // ---------- External vacation ----------
    function ext_generate(){
      const personType = document.getElementById('ext_personType').value;
      const headerText = (personType === 'ูุดุฑู') ? 'ุงููุดุฑู ุงููุญุชุฑู' : 'ุงูููู ุงููุญุชุฑู';

      const copyId = document.getElementById('ext_copyId').value.trim();
      const days = parseInt(document.getElementById('ext_days').value,10);
      if(!copyId || !days || days <= 0){ alert("โ๏ธ ูุฑุฌู ุฅุฏุฎุงู ุงูููุจู ุงูุฏู ูุงููุฏุฉ ุจุงูุฃูุงู ุตุญูุญุฉ"); return; }

      let tzDate = new Date(new Date().toLocaleString("en-US", { timeZone: "Asia/Riyadh" }));
      let startDate = new Date(tzDate.getFullYear(), tzDate.getMonth(), tzDate.getDate());
      let endDate = new Date(startDate); endDate.setDate(endDate.getDate() + days);

      const fmt = d => `${d.getFullYear()}/${String(d.getMonth()+1).padStart(2,'0')}/${String(d.getDate()).padStart(2,'0')}`;

      const txt =
`***\`  ุฅุฌุงุฒุฉ ุฎุงุฑุฌูุฉ  \`***  

***\`${headerText} :\`***    <@${copyId}>         

***\`ุงููููููุฏุฉ :\` ${days} ููู***
 
***ูู ุชุงุฑูุฎ ${fmt(startDate)}***
*** ุงูู ุชุงุฑูุฎ ${fmt(endDate)}***

***\`ููุงุญุธุฉ :\`***

***ุชูุชูู ุงุฌุงุฒุชู ุงูุฎุงุฑุฌูุฉ ูู ููุณ ููู ุงูุชูุงุก ุงูุงุฌุงุฒุฉ.***

***\`ุชููููุงุช ูุงูุฉ ูุฌุจ ูุฑุงุฆุชูุง :\`***

***01/ ูู ุญุงู ุจุฏุช ุงูุงุฌุงุฒุฉ ูููุน ููุนุง ุจุงุชุง ุฏุฎููู ููููุงุทุนุฉ. ูู ูุฎุงูู ุฐูู ุณููุนุชุจุฑ ุชูุฑุจุงู ูุธูููุงู ูุณุชุชู ูุญุงุณุจุชู ูู ููุจู ุฅุฏุงุฑุฉ ุงููุฑุงุฌ.***

***02/ ูู ุญุงู ุงูุชูุงุก ุงูุงุฌุงุฒุฉ ุงู ุงุฑุฏุช ูุทุนูุง ูุฌุจ ูุชุญ ุชูุช ุงุฌุงุฒุฉ ูุทูุจ ูุทุนูุง ุงู ุงููุงุฆูุง ููููุน ุงููุจุงุดุฑุฉ ุญุชู ุงุฒุงูุฉ ุฑูู ุงุฌุงุฒุฉ ูุธูููุฉ***
 
<@&1149742928953086105>`;
      setOut('ext_output', txt);
    }

    // Expose functions to inline onclicks (ุงุฎุชูุงุฑู)
    window.vac_toggleFields = vac_toggleFields;
    window.vio_toggleByLevel = vio_toggleByLevel;
    window.vac_generateVacation = vac_generateVacation;
    window.vac_copyResult = vac_copyResult;
    window.res_toggleLevel = res_toggleLevel;
    window.res_generate = res_generate;
    window.res_copy = res_copy;
    window.vio_generate = vio_generate;
    window.vio_copy = vio_copy;
    window.abs_generate = abs_generate;
    window.abs_copy = abs_copy;
    window.ext_generate = ext_generate;
    window.ext_copy = ext_copy;
    window.toggleDropdown = toggleDropdown;
  </script>
</body>
</html>
