<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ğŸ’¼Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©ğŸ’¼</title>
<style>
  :root{
    --gold:#e0ca51;
    --bg:#222;
    --panel-bg: rgba(0,0,0,0.85);
  }
  html,body{height:100%}
  body{
    margin:0;
    font-family: Tahoma, Arial, sans-serif;
    background: url("https://raw.githubusercontent.com/xhhp1/mechanics/main/images/mechan.png") no-repeat center center fixed;
    background-size: cover;
    color:var(--gold);
    text-align:center;
    padding:20px;
    box-sizing:border-box;
  }
  h1{ margin:12px 0 18px; font-size:28px; }
  .menu{ display:flex; gap:18px; justify-content:center; flex-wrap:wrap; margin-bottom:18px; }
  .menu button{
    padding:18px 36px; font-size:20px; background:var(--gold); color:#111;
    border:none; border-radius:12px; font-weight:bold; cursor:pointer;
    transition: transform .12s ease, background .12s ease; min-width:190px;
  }
  .menu button:hover{ background:#c6b142; transform:translateY(-2px); }

  .container{
    display:none; max-width:980px; margin: 12px auto; background: var(--panel-bg);
    border-radius:12px; padding:18px; text-align:right; box-sizing:border-box;
  }
  .container.active{ display:block; }
  .container h2{ margin-top:0; color:var(--gold); }

  label{ display:block; margin:10px 0 6px; font-weight:bold; text-align:right; }
  input[type="text"], input[type="number"], input[type="date"], select, textarea{
    width:100%; padding:10px; border-radius:8px; border:1px solid var(--gold);
    background:var(--bg); color:var(--gold); font-size:15px; box-sizing:border-box;
  }
  textarea{ resize:vertical; }

  .time-group{ display:flex; gap:8px; }
  .time-group input, .time-group select{ flex:1; }

  .manual-wrap{ display:flex; align-items:center; gap:8px; margin-top:8px; }
  .manual-wrap input[type="checkbox"]{ width:auto; }

  .button-row{ display:flex; gap:12px; justify-content:center; margin-top:14px; flex-wrap:wrap; }
  .btn{ padding:12px 22px; background:var(--gold); color:#111; border:none; border-radius:8px; font-weight:bold; cursor:pointer; }
  .btn:hover{ background:#c6b142; }

  .output{
    display:none; margin-top:14px; background:#333; padding:14px; border-radius:8px;
    color:var(--gold); text-align:left; white-space:pre-wrap; direction:ltr;
    max-width:940px; margin-left:auto; margin-right:auto; box-sizing:border-box;
  }

  .custom-dropdown{ position:relative; user-select:none; }
  .cd-selected{
    display:flex; align-items:center; justify-content:space-between; gap:8px;
    padding:10px; border-radius:8px; border:1px solid var(--gold);
    background:var(--bg); color:var(--gold); cursor:pointer;
  }
  .cd-selected .placeholder{ opacity:0.8; }
  .cd-panel{
    position:absolute; z-index:9999; left:0; right:0; top:calc(100% + 6px);
    background:var(--bg); border:1px solid rgba(224,202,81,0.15); border-radius:8px;
    box-shadow:0 6px 20px rgba(0,0,0,0.5); max-height:300px; overflow:auto; padding:6px; display:none;
  }
  .cd-option{ padding:10px; border-radius:6px; color:var(--gold); cursor:pointer; text-align:right; }
  .cd-option:hover{ background: rgba(224,202,81,0.06); }
  .cd-option.selected{ background: rgba(224,202,81,0.14); }

  .checkbox-group{
    display:flex;
    flex-direction:column;
    gap:6px;
    padding:8px 10px;
    border-radius:8px;
    border:1px solid rgba(224,202,81,0.5);
    background:rgba(0,0,0,0.35);
  }
  .checkbox-group label{
    margin:0;
    font-weight:normal;
    display:flex;
    align-items:center;
    gap:6px;
  }
  .checkbox-group input[type="checkbox"]{
    width:auto;
  }

  @media (max-width:720px){
    .menu button{ padding:14px 18px; font-size:18px; min-width:140px; }
    .cd-panel{ max-height:260px; }
  }
</style>
</head>
<body>

<h1>ğŸ“‹ Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©ğŸ“‹</h1>

<div class="menu">
  <button onclick="show('vacBox')">Ø§Ù„Ø¥Ø¬Ø§Ø²Ø§Øª</button>
  <button onclick="show('secBox')">Ø§Ù„Ø§Ù†ØªØ¯Ø§Ø¨Ø§Øª</button>
  <button onclick="show('resignBox')">Ø§Ù„Ø§Ø³ØªÙ‚Ø§Ù„Ø©</button>
  <button onclick="show('violBox')">Ø§Ù„Ù…Ø®Ø§Ù„ÙØ§Øª</button>
  <button onclick="show('absBox')">ÙÙ†ÙŠ Ù„Ù… ÙŠØ­Ø¶Ø±</button>
  <button onclick="show('extBox')">Ø¥Ø¬Ø§Ø²Ø© Ø®Ø§Ø±Ø¬ÙŠØ©</button>
  <button onclick="show('roleBox')">Ø·Ù„Ø¨ Ø±ÙˆÙ„</button>
  <!-- âœ… NEW TAB BUTTON -->
  <button onclick="show('ticketBox')">Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„ØªÙƒØ§Øª</button>
</div>

<!-- ================= VACATION (Ø¥Ø¬Ø§Ø²Ø§Øª ÙÙ‚Ø·) ================= -->
<div id="vacBox" class="container">
  <h2>ğŸ§³ Ø§Ù„Ø¥Ø¬Ø§Ø²Ø§Øª Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ© ğŸ§³</h2>

  <label>Ø§Ù„Ø¥Ø¬Ø§Ø²Ø© Ù„Ù…Ù†ØŸ</label>
  <select id="vac_vacType" onchange="vac_toggleFields()">
    <option value="ÙÙ†ÙŠ">ÙÙ†ÙŠ</option>
    <option value="Ù…Ø´Ø±Ù">Ù…Ø´Ø±Ù</option>
    <option value="Ù…ÙƒØ§ÙØ£Ø© Ù‚ÙŠØ§Ø¯ÙŠØ©">Ù…ÙƒØ§ÙØ£Ø© Ù‚ÙŠØ§Ø¯ÙŠØ©</option>
    <option value="Ø¥Ø¬Ø§Ø²Ø© Ù…ØªÙ…ÙŠØ² Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹">Ø¥Ø¬Ø§Ø²Ø© Ù…ØªÙ…ÙŠØ² Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</option>
    <option value="Ø¥Ø¬Ø§Ø²Ø© ØªØ§Ø¬Ø±">Ø¥Ø¬Ø§Ø²Ø© ØªØ§Ø¬Ø±</option>
  </select>

  <div id="vac_internalFields">

    <div id="vac_leadHeaderBox" style="display:none">
      <label>Ø§Ù„Ù…Ø®Ø§Ø·ÙØ¨ ÙÙŠ Ø§Ù„Ø±Ø³Ø§Ù„Ø©</label>
      <select id="vac_leadHeader">
        <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…ÙƒØ§ÙØ£Ø© Ù„Ù…Ù†ØŸ</option>
        <option value="Ø§Ù„Ù…Ø´Ø±Ù Ø§Ù„Ù…Ø­ØªØ±Ù…">Ø§Ù„Ù…Ø´Ø±Ù Ø§Ù„Ù…Ø­ØªØ±Ù…</option>
        <option value="Ø§Ù„ÙÙ†ÙŠ Ø§Ù„Ù…Ø­ØªØ±Ù…">Ø§Ù„ÙÙ†ÙŠ Ø§Ù„Ù…Ø­ØªØ±Ù…</option>
      </select>
    </div>

    <label>Ø§Ù„ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ</label>
    <input type="number" id="vac_copyId" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ">

    <label>Ø§Ù„Ù…Ù€Ù€Ù€Ù€Ø¯Ø© (Ø¨Ø§Ù„Ø³Ø§Ø¹Ø§Øª)</label>
    <input type="number" id="vac_duration" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø§Øª">

    <label id="vac_balanceLabel">Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ (Ø¨Ø§Ù„Ø³Ø§Ø¹Ø§Øª)</label>
    <input type="number" id="vac_balance" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø§Øª">

    <div class="manual-wrap">
      <input type="checkbox" id="vac_manualTime" onchange="vac_toggleManualTime()">
      <label for="vac_manualTime" style="margin:0;font-weight:normal">Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙˆÙ‚Øª Ø¨Ø´ÙƒÙ„ ÙŠØ¯ÙˆÙŠ</label>
    </div>
    <div id="vac_timeRow" class="time-group" style="display:none">
      <input type="number" id="vac_startHour" placeholder="Ø§Ù„Ø³Ø§Ø¹Ø© (1-12)">
      <input type="number" id="vac_startMinute" placeholder="Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø© (0-59)">
      <select id="vac_startPeriod">
        <option value="Øµ">ØµØ¨Ø§Ø­Ù‹Ø§</option>
        <option value="Ù…">Ù…Ø³Ø§Ø¡Ù‹</option>
      </select>
    </div>
  </div>

  <div class="button-row">
    <button class="btn" onclick="vac_generateVacation()">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¥Ø¬Ø§Ø²Ø©</button>
    <button class="btn" onclick="vac_copyResult()">ğŸ“‹ Ù†Ø³Ø® Ø§Ù„Ù†ØªÙŠØ¬Ø©</button>
  </div>

  <div id="vac_output" class="output"></div>
</div>

<!-- ================= SECONDMENT (Ø§Ù„Ø§Ù†ØªØ¯Ø§Ø¨Ø§Øª) ================= -->
<div id="secBox" class="container">
  <h2>ğŸ§¾ Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø§Ù†ØªØ¯Ø§Ø¨Ø§Øª ğŸ§¾</h2>

  <label>Ø§Ù„ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ</label>
  <input type="number" id="sec_copyId" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ">

  <label>Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¯Ø¨ Ùˆ ÙƒÙˆØ¯Ù‡</label>
  <input type="text" id="sec_nameCode" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„ÙƒÙˆØ¯">

  <label>Ø§Ù„Ù‚Ø·Ø§Ø¹ Ø§Ù„Ù…Ù†ØªØ¯Ø¨ Ù„Ù‡</label>
  <select id="sec_sector">
    <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø·Ø§Ø¹</option>
    <option>Ø¢Ù…Ù† Ø§Ù„Ø·Ø±Ù‚</option>
    <option>Ø¢Ù…Ù† Ø§Ù„Ù…Ù†Ø´Ø¢Øª</option>
    <option>Ø­Ø±Ø³ Ø§Ù„Ø­Ø¯ÙˆØ¯</option>
    <option>Ø§Ù„Ù‡Ù„Ø§Ù„ Ø§Ù„Ø£Ø­Ù…Ø±</option>
    <option>Ø¢Ù…Ù† Ø¹Ø§Ù…</option>
    <option>Ù‚ÙˆØ§Øª Ø§Ù„Ø·Ø¤Ø§Ø±Ø¦</option>
  </select>

  <label>Ø§Ù„Ù…Ø¯Ø© (Ø¨Ø§Ù„Ø£ÙŠØ§Ù…)</label>
  <input type="number" id="sec_days" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙŠØ§Ù…">

  <div class="button-row">
    <button class="btn" onclick="sec_generate()">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø§Ù†ØªØ¯Ø§Ø¨</button>
    <button class="btn" onclick="sec_copy()">ğŸ“‹ Ù†Ø³Ø® Ø§Ù„Ù†ØªÙŠØ¬Ø©</button>
  </div>

  <div id="sec_output" class="output"></div>
</div>

<!-- ================= RESIGNATION (Ø§Ù„Ø§Ø³ØªÙ‚Ø§Ù„Ø©) ================= -->
<div id="resignBox" class="container">
  <h2>ğŸ“Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø§Ø³ØªÙ‚Ø§Ù„Ø©ğŸ“</h2>

  <label>Ø§Ø³ØªÙ‚Ø§Ù„Ø© Ù„Ù…Ù† ØŸ</label>
  <select id="res_type" onchange="res_toggleLevel()">
    <option value="Ù…Ø³ØªÙˆÙ‰ Ù…ØªØ¯Ø±Ø¨">Ù…Ø³ØªÙˆÙ‰ Ù…ØªØ¯Ø±Ø¨</option>
    <option value="Ù…Ø³ØªÙˆÙ‰ 1">Ù…Ø³ØªÙˆÙ‰ 1</option>
    <option value="Ø§Ø¹Ù„Ù‰">Ù…Ø³ØªÙˆÙ‰ 2 ÙØ£Ø¹Ù„Ù‰</option>
  </select>

  <label>Ø§Ù„ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ</label>
  <input type="number" id="res_copyId" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ">

  <div id="res_levelBox" style="display:none">
    <label>Ø±Ù‚Ù… Ø§Ù„Ù…Ø³ØªÙˆÙ‰ (2 ÙØ£Ø¹Ù„Ù‰)</label>
    <input type="number" id="res_levelNumber" min="2" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ù…Ø³ØªÙˆÙ‰">
  </div>

  <label>Ø§Ø³Ù… ÙˆÙƒÙˆØ¯ Ø§Ù„ÙÙ†ÙŠ ÙƒØªØ§Ø¨ØªØ§</label>
  <input type="text" id="res_nameCode" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„ÙƒÙˆØ¯ ÙƒØªØ§Ø¨ØªØ§Ù‹">

  <label>ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ Ø§Ù„Ù…Ø´Ø±Ù</label>
  <input type="number" id="res_supervisorId" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ Ø§Ù„Ù…Ø´Ø±Ù">

  <div class="button-row">
    <button class="btn" onclick="res_generate()">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ø³Ø§Ù„Ø©</button>
    <button class="btn" onclick="res_copy()">ğŸ“‹ Ù†Ø³Ø® Ø§Ù„Ù†ØªÙŠØ¬Ø©</button>
  </div>
  <div id="res_output" class="output"></div>
</div>

<!-- ================= VIOLATIONS (Ø§Ù„Ù…Ø®Ø§Ù„ÙØ§Øª) ================= -->
<div id="violBox" class="container">
  <h2>ğŸ“‹Ø§Ù„Ù…Ø®Ø§Ù„ÙØ§ØªğŸ“‹</h2>

  <label>Ø§Ù„ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ</label>
  <input type="number" id="vio_copyId" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ">

  <label>Ø±Ù‚Ù… Ø§Ù„Ø¥Ù†Ø°Ø§Ø± Ø§Ù„ÙˆØ¸ÙŠÙÙŠ</label>
  <select id="vio_warningLevel" onchange="vio_toggleByLevel()">
    <option value="Ø´ÙÙ‡ÙŠ">Ø´ÙÙ‡ÙŠ</option>
    <option value="Ø§ÙˆÙ„">Ø§ÙˆÙ„</option>
    <option value="Ø«Ø§Ù†ÙŠ">Ø«Ø§Ù†ÙŠ</option>
    <option value="Ù†Ù‡Ø§Ø¦ÙŠ">Ù†Ù‡Ø§Ø¦ÙŠ</option>
  </select>

  <div id="vio_fineRow">
    <label>Ù‚ÙŠÙ…Ø© Ø§Ù„ØºØ±Ø§Ù…Ø©</label>
    <input type="number" id="vio_fineAmount" placeholder="Ø£Ø¯Ø®Ù„ Ù‚ÙŠÙ…Ø© Ø§Ù„ØºØ±Ø§Ù…Ø©">
  </div>

  <div id="vio_supervisorRow">
    <label>ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ Ø§Ù„Ù…Ø´Ø±Ù</label>
    <input type="number" id="vio_supervisorId" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ Ø§Ù„Ù…Ø´Ø±Ù">
  </div>

  <label>Ø§Ù„Ù…Ø®Ø§Ù„ÙØ§Øª</label>
  <div class="custom-dropdown" id="vio_dropdown">
    <div class="cd-selected" onclick="toggleDropdown('vio')">
      <span class="placeholder">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø®Ø§Ù„ÙØ©</span>
      <span>&#9662;</span>
    </div>
    <div class="cd-panel" id="vio_panel" role="listbox" aria-hidden="true"></div>
  </div>
  <input type="hidden" id="vio_selected" value="">

  <div class="button-row">
    <button class="btn" onclick="vio_generate()">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¥Ù†Ø°Ø§Ø±</button>
    <button class="btn" onclick="vio_copy()">ğŸ“‹ Ù†Ø³Ø® Ø§Ù„Ù†ØªÙŠØ¬Ø©</button>
  </div>

  <div id="vio_output" class="output"></div>
</div>

<!-- ================= ABSENT (ÙÙ†ÙŠ Ù„Ù… ÙŠØ­Ø¶Ø±) ================= -->
<div id="absBox" class="container">
  <h2>ğŸ§²Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø³ØªØ¯Ø¹Ø§Ø¡ Ù„Ù„ÙÙ†ÙŠ Ø§Ù„Ø°ÙŠ Ù„Ù… ÙŠØ­Ø¶Ø±ğŸ§²</h2>

  <label>Ø§Ù„ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ:</label>
  <input type="number" id="abs_copyId" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ">

  <label>Ø³Ø¨Ø¨ Ø§Ù„Ø§Ø³ØªØ¯Ø¹Ø§Ø¡:</label>
  <div class="custom-dropdown" id="abs_dropdown">
    <div class="cd-selected" onclick="toggleDropdown('abs')">
      <span class="placeholder">Ø§Ø®ØªØ± Ø§Ù„Ø³Ø¨Ø¨</span>
      <span>&#9662;</span>
    </div>
    <div class="cd-panel" id="abs_panel" role="listbox" aria-hidden="true"></div>
  </div>
  <input type="hidden" id="abs_selected" value="">

  <label>Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø®Ø§Ù„ÙØ©:</label>
  <input type="number" id="abs_penalty" placeholder="Ø£Ø¯Ø®Ù„ Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø®Ø§Ù„ÙØ©">

  <label>Ø§Ù„Ø¥Ù†Ø°Ø§Ø± Ø§Ù„Ù…Ø³ØªØ­Ù‚ØŸ</label>
  <select id="abs_warning">
    <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¥Ù†Ø°Ø§Ø±</option>
    <option>Ø´ÙÙ‡ÙŠ</option>
    <option>Ø§ÙˆÙ„</option>
    <option>Ø«Ø§Ù†ÙŠ</option>
    <option>Ù†Ù‡Ø§Ø¦ÙŠ</option>
  </select>

  <label>Ù„Ù… ØªØªÙ… Ù…Ø®Ø§Ù„ÙØªÙ‡ Ø¨Ø³Ø¨Ø¨:</label>
  <input type="text" id="abs_notPunished" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø³Ø¨Ø¨">

  <div class="button-row">
    <button class="btn" onclick="abs_generate()">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ø³Ø§Ù„Ø©</button>
    <button class="btn" onclick="abs_copy()">Ù†Ø³Ø®</button>
  </div>

  <div id="abs_output" class="output"></div>
</div>

<!-- ================= EXTERNAL VACATION (Ø¥Ø¬Ø§Ø²Ø© Ø®Ø§Ø±Ø¬ÙŠØ©) ================= -->
<div id="extBox" class="container">
  <h2>âœˆï¸Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¬Ø§Ø²Ø© Ø®Ø§Ø±Ø¬ÙŠØ©âœˆï¸</h2>

  <label>Ù†ÙˆØ¹ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©</label>
  <select id="ext_mode" onchange="ext_toggleMode()">
    <option value="main">Ø¥Ø¬Ø§Ø²Ø© Ø®Ø§Ø±Ø¬ÙŠØ©</option>
    <option value="record_leave">Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† - Ø¥Ø¬Ø§Ø²Ø© Ø®Ø§Ø±Ø¬ÙŠØ©</option>
    <option value="record_break">Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† - ÙƒØ³Ø± Ø§Ù„Ø§Ø¬Ø§Ø²Ø© Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©</option>
  </select>

  <label>Ø§Ù„Ø§Ø¬Ø§Ø²Ø© Ù„Ù…Ù†ØŸ</label>
  <select id="ext_personType">
    <option value="ÙÙ†ÙŠ">ÙÙ†ÙŠ</option>
    <option value="Ù…Ø´Ø±Ù">Ù…Ø´Ø±Ù</option>
  </select>

  <label>Ø§Ù„ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ</label>
  <input type="number" id="ext_copyId" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ">

  <div id="ext_mainFields">
    <label>Ù…Ø¯Ø© Ø§Ù„Ø§Ø¬Ø§Ø²Ø© (Ø¨Ø§Ù„Ø£ÙŠØ§Ù…)</label>
    <input type="number" id="ext_days" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙŠØ§Ù…">
  </div>

  <div id="ext_recordLeaveFields" style="display:none">
    <label>Ù…Ø¯Ø© Ø§Ù„Ø§Ø¬Ø§Ø²Ø© (Ø¨Ø§Ù„Ø£ÙŠØ§Ù…)</label>
    <input type="number" id="ext_rec_days" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙŠØ§Ù…">

    <label>ØªØ§Ø±ÙŠØ® Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø¬Ø§Ø²Ø©</label>
    <input type="date" id="ext_rec_start">

    <label>ØªØ§Ø±ÙŠØ® Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø§Ø¬Ø§Ø²Ø© (ÙŠÙØ­Ø³Ø¨ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹)</label>
    <input type="text" id="ext_rec_end" placeholder="ÙŠØªÙ… Ø­Ø³Ø§Ø¨Ù‡ Ù…Ù† ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø¡ + Ø§Ù„Ù…Ø¯Ø©" readonly>

    <label>Ø±Ø§Ø¨Ø· Ø§Ù„Ø§Ø¬Ø§Ø²Ø©</label>
    <input type="text" id="ext_rec_link" placeholder="Ø¶Ø¹ Ø±Ø§Ø¨Ø· Ø§Ù„Ø§Ø¬Ø§Ø²Ø© Ù‡Ù†Ø§">
  </div>

  <div id="ext_breakFields" style="display:none">
    <label>ØªØ§Ø±ÙŠØ® ÙƒØ³Ø±/Ø±Ø¬ÙˆØ¹ Ù…Ù† Ø§Ù„Ø§Ø¬Ø§Ø²Ø©</label>
    <input type="date" id="ext_break_date">

    <label>Ø±Ø§Ø¨Ø· Ø§Ù„Ø§Ø¬Ø§Ø²Ø©</label>
    <input type="text" id="ext_break_link" placeholder="Ø¶Ø¹ Ø±Ø§Ø¨Ø· Ø§Ù„Ø§Ø¬Ø§Ø²Ø© Ù‡Ù†Ø§">
  </div>

  <div class="button-row">
    <button class="btn" onclick="ext_generate()">Ø¥Ù†Ø´Ø§Ø¡</button>
    <button class="btn" onclick="ext_copy()">Ù†Ø³Ø®</button>
  </div>

  <div id="ext_output" class="output"></div>
</div>

<!-- ================= ROLE REQUEST (Ø·Ù„Ø¨ Ø±ÙˆÙ„) ================= -->
<div id="roleBox" class="container">
  <h2>ğŸ§¾ Ø·Ù„Ø¨ Ø±ÙˆÙ„ ğŸ§¾</h2>

  <label>Ø§Ù„ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ</label>
  <input type="number" id="role_copyId" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ">

  <label>Ù†ÙˆØ¹ Ø§Ù„Ø·Ù„Ø¨</label>
  <div class="checkbox-group" id="role_requests">
    <label><input type="checkbox" value="Ø§Ø²Ø§Ù„Ø© Ø§Ù„Ø§Ø³Ù…"> Ø§Ø²Ø§Ù„Ø© Ø§Ù„Ø§Ø³Ù…</label>
    <label><input type="checkbox" value="Ø§Ø²Ø§Ù„Ù‡ Ø±ÙˆÙ„Ø§Øª Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒ"> Ø§Ø²Ø§Ù„Ù‡ Ø±ÙˆÙ„Ø§Øª Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒ</label>
    <label><input type="checkbox" value="Ù…Ù†Ø¹ ØªÙˆØ¸ÙŠÙ 14 ÙŠÙˆÙ…"> Ù…Ù†Ø¹ ØªÙˆØ¸ÙŠÙ 14 ÙŠÙˆÙ…</label>
    <label><input type="checkbox" value="Ø¥Ø¹Ø·Ø§Ø¡ Ø±ÙˆÙ„ Ø§Ø¬Ø§Ø²Ù‡ ÙˆØ¸ÙŠÙÙŠØ©"> Ø¥Ø¹Ø·Ø§Ø¡ Ø±ÙˆÙ„ Ø§Ø¬Ø§Ø²Ù‡ ÙˆØ¸ÙŠÙÙŠØ©</label>
    <label><input type="checkbox" value="Ø§Ø²Ø§Ù„Ø© Ø±ÙˆÙ„ Ø§Ø¬Ø§Ø²Ø© Ø®Ø§Ø±Ø¬ÙŠØ©"> Ø§Ø²Ø§Ù„Ø© Ø±ÙˆÙ„ Ø§Ø¬Ø§Ø²Ø© Ø®Ø§Ø±Ø¬ÙŠØ©</label>
  </div>

  <label>Ø§Ù„Ø³Ø¨Ø¨</label>
  <input type="text" id="role_reason" placeholder="ÙŠØªÙ… ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø³Ø¨Ø¨ Ù‡Ù†Ø§ Ù…Ø«Ø§Ù„ (Ø§Ø³ØªÙ‚Ø§Ù„Ù‡ Ø¨Ø±ØªØ¨Ø© Ù…ØªØ¯Ø±Ø¨)">

  <div class="button-row">
    <button class="btn" onclick="role_generate()">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø·Ù„Ø¨</button>
    <button class="btn" onclick="role_copy()">Ù†Ø³Ø®</button>
  </div>

  <div id="role_output" class="output"></div>
</div>

<!-- ================= NEW: TICKET TEMPLATES (Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„ØªÙƒØ§Øª) ================= -->
<div id="ticketBox" class="container">
  <h2>ğŸ« Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„ØªÙƒØ§Øª ğŸ«</h2>

  <label>Ø§Ø®ØªØ± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬</label>
  <select id="ticket_type" onchange="ticket_toggleFields()">
    <option value="">Ø§Ø®ØªØ± Ù†Ù…ÙˆØ°Ø¬</option>
    <option value="accept_vac">Ù†Ù…ÙˆØ°Ø¬ Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø§Ø¬Ø§Ø²Ø©</option>
    <option value="vac_form">Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø§Ø¬Ø§Ø²Ø©</option>
    <option value="resign_form">Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø§Ø³ØªÙ‚Ø§Ù„Ø©</option>
    <option value="promo_form">Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ±Ù‚ÙŠØ§Øª</option>
  </select>

  <!-- ÙŠØ¸Ù‡Ø± ÙÙ‚Ø· Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ±Ù‚ÙŠØ§Øª -->
  <div id="ticket_promoFields" style="display:none">
    <label>Ø¹Ø¯Ø¯ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</label>
    <input type="number" id="ticket_reports" placeholder="Ø§ÙƒØªØ¨ Ø¹Ø¯Ø¯ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±">

    <label>Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø§Øª</label>
    <input type="number" id="ticket_hours" placeholder="Ø§ÙƒØªØ¨ Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø§Øª">

    <label>Ø§Ø³ØªØ­Ù‚Ø§Ù‚ Ø§Ù„ØªØ±Ù‚ÙŠØ©</label>
    <select id="ticket_eligibility" onchange="ticket_toggleReason()">
      <option value="Ù…Ø³ØªØ­Ù‚">Ù…Ø³ØªØ­Ù‚</option>
      <option value="ØºÙŠØ± Ù…Ø³ØªØ­Ù‚">ØºÙŠØ± Ù…Ø³ØªØ­Ù‚</option>
    </select>

    <div id="ticket_reasonBox" style="display:none">
      <label>Ø§Ù„Ø³Ø¨Ø¨</label>
      <input type="text" id="ticket_reason" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø³Ø¨Ø¨ Ù‡Ù†Ø§">
    </div>
  </div>

  <div class="button-row">
    <button class="btn" onclick="ticket_generate()">Ø¥Ù†Ø´Ø§Ø¡</button>
    <button class="btn" onclick="ticket_copy()">Ù†Ø³Ø®</button>
  </div>

  <div id="ticket_output" class="output"></div>
</div>

<script>
/* ---------- Ù…ØµØ¯Ø± Ù…ÙˆØ­Ù‘Ø¯ Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø®Ø§Ù„ÙØ§Øª ---------- */
const VIOLATIONS = [
  "Ø§Ù„ØªÙ‡Ø±Ø¨ Ù…Ù† Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©",
  "Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®ÙˆØ§Øµ Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒ Ù„Ù„Ù…ØµÙ„Ø­Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©",
  "Ø¹Ø¯Ù… Ø§Ø­ØªØ±Ø§Ù…  Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠ Ø§Ùˆ Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© Ø§Ùˆ Ø§Ù„Ù…Ø´Ø±Ù",
  "Ø§Ø³ØªÙ‚Ø§Ù„Ù‡ Ø¨Ø±ØªØ¨Ø© Ù…Ø³ØªÙˆÙ‰ Ù…ØªØ¯Ø±Ø¨ Ø§Ùˆ Ù…Ø³ØªÙˆÙ‰ 1",
  "Ø§Ø«Ø§Ø±Ù‡ Ø§Ù„Ø¬Ø¯Ù„ Ø¨Ø§Ù„Ø´Ø§Øª Ø§Ù„Ø¹Ø§Ù… Ø§Ùˆ Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒ",
  "Ø£ÙŠ ØªÙ„Ø§Ø¹Ø¨ Ø¨Ø§Ù„ÙÙˆØ§ØªÙŠØ±",
  "Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ø±ÙƒØ¨Ø§Øª Ø§Ùˆ Ø§Ø³ØªØ¦Ø¬Ø§Ø± Ø¯Ø¨Ø§Ø¨ Ø¨Ù‡Ø¯Ù Ø§Ù„Ø­Ø¬Ø²",
  "Ø§Ù„Ø§Ø¬Ø±Ø§Ù… Ø¨ÙˆØ¸ÙŠÙØ© Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒ",
  "ØªÙˆØ§Ø¬Ø¯ ÙÙŠ Ù…Ø¯Ù† Ø§Ø®Ø±Ø§",
  "Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† ØºØ±ÙØ© Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø¯ÙˆÙ† ØªØ³Ù„ÙŠÙ… Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…ÙŠØ¯Ø§Ù†ÙŠØ© ( Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª + Ø§Ù„Ù†Ø§Ø¦Ø¨ + Ø§Ù„Ø§ØªØµØ§Ù„Ø§Øª)",
  "Ø¯Ø®ÙˆÙ„ Ù…ÙˆØ¬Ù‡ Ø§Ù„Ø±Ù‚Ø§Ø¨Ø© ÙˆØ§Ù„ØªÙØªÙŠØ´",
  "Ø§Ù„Ø³Ø¬Ù† Ø§Ù„Ø±Ù‚Ø§Ø¨ÙŠ",
  "Ø¹Ø¯Ù… Ø§Ø­ØªØ±Ø§Ù… Ø§ÙØ±Ø§Ø¯ Ø§Ù„Ù‚Ø·Ø§Ø¹Ø§Øª Ùˆ Ø§Ù„Ù…ÙˆØ§Ø·Ù†ÙŠÙ† - Ø§Ù„ØªÙ‡Ø±Ø¨ Ù…Ù† ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ù…Ø´Ø±Ù",
  "Ø§Ù„ØªØµØ¯ÙŠÙ… Ø§Ù„Ù…ØªØ¹Ù…Ø¯ Ù„ØºØ±Ø¶ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø±ÙƒØ¨Ù‡",
  "Ø¹Ø¯Ù… Ø§Ù„Ø¬Ø¯ÙŠØ© Ø¨Ø§Ù„Ù…ÙŠØ¯Ø§Ù†",
  "ØªØ®Ø·ÙŠ Ù…Ø±Ø§Ø¬Ø¹",
  "Ø­ÙŠØ§Ø²Ù‡ Ø³Ù„Ø§Ø­ Ø§Ùˆ Ù…Ù…Ù†ÙˆØ¹Ø§Øª",
  "Ù…Ø®Ø§Ù„ÙØ§Øª Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ùˆ Ø§Ù„ØªØ²ÙˆÙŠØ¯",
  "ØªØ¹Ø¯ÙŠÙ„ Ùˆ ØªØ²ÙˆÙŠØ¯ Ø§Ù„Ù…Ø±ÙƒØ¨Ø§Øª Ø§Ù„ØªÙŠ ØªÙ…Ù„Ùƒ Ø§ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª Ø£Ùˆ Ø£ÙƒØ³ØªØ±Ø§ Ø§Ø³Ù„Ø­Ø©",
  "ÙØ­Øµ Ø§Ùˆ ØªØ¹Ø¯ÙŠÙ„ Ùˆ ØªØ²ÙˆÙŠØ¯ Ø§Ù„Ù…Ø±ÙƒØ¨Ø§Øª ÙÙŠ Ø®Ø§Ø±Ø¬ Ø§ÙˆÙ‚Ø§Øª Ø§Ù„Ø§ÙØªØªØ§Ø­",
  "Ø§Ù„ØªÙ„Ø§Ø¹Ø¨ ÙÙŠ Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ùˆ Ø§Ù„ØªØ²ÙˆÙŠØ¯",
  "Ù…Ø®Ø§Ù„ÙØ© Ù‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ùˆ Ø§Ù„ØªØ²ÙˆÙŠØ¯ (ØªØ¹Ø¯ÙŠÙ„ Ù…Ø±ÙƒØ¨Ø© Ø¨Ø¯ÙˆÙ† ØªÙˆØ¬ÙŠÙ‡)",
  "Ù…Ø®Ø§Ù„ÙØ© Ù‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ùˆ Ø§Ù„ØªØ²ÙˆÙŠØ¯",
  "Ù…Ø®Ø§Ù„ÙØ© Ù‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ùˆ Ø§Ù„ØªØ²ÙˆÙŠØ¯ (Ø¹Ø¯Ù… Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¨Ø¹Ø¯ Ø§Ø±Ø³Ø§Ù„Ù‡ )",
  "ØªØ¹Ø¯ÙŠÙ„ Ùˆ ØªØ²ÙˆÙŠØ¯ Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø§Ù„Ø®Ø§ØµÙ‡ Ø¨Ù€ Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ Ø¨Ù†ÙØ³Ù‡",
  "Ø§Ù„ØµÙØ¹ Ø§Ùˆ Ø§Ù„Ø¶Ø±Ø¨",
  "Ø§Ù„Ø§Ù†ØªØ¯Ø§Ø¨ ÙˆÙ‚Øª Ø§Ù„ØªÙˆØ¸ÙŠÙ",
  "Ø¯Ø®ÙˆÙ„ Ø±ÙˆÙ… Ø§Ù„ÙƒØ§Ø¯Ø± Ø§Ù„Ù†Ø³Ø§Ø¦ÙŠ",
  "Ø§Ù„ØªØ¯Ø®Ù„ ÙÙŠ Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ø£Ø¯Ø§Ø±ÙŠÙ‡",
  "ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø²ÙŠ Ø§Ù„Ø±Ø³Ù…ÙŠ Ù„Ù„Ù‚Ø·Ø§Ø¹ Ø§Ùˆ Ø§Ø¶Ø§ÙÙ‡ Ø§Ù„ÙˆØ´ÙˆÙ…",
  "Ø§Ù„Ø§Ø¹ØªØ±Ø§Ø¶ Ø¹Ù„Ù‰ Ø§Ù„ØªØ±Ù‚ÙŠØ© Ø§Ùˆ Ù…Ø®Ø§Ù„ÙØ© Ø¨Ø¯ÙˆÙ† Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ÙƒÙ…Ø§Ù„ Ø§Ù„Ø´Ø±ÙˆØ·",
  "ÙØªØ­ ØªÙƒØª Ø§Ø¬Ø§Ø²Ø© ØºÙŠØ± Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„Ù„Ø´Ø±ÙˆØ·",
  "Ø§Ù„ØªØ§Ø®Ø± ÙÙŠ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù…Ù† Ø§Ù„Ø§Ø¬Ø§Ø²Ø© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©",
  "ØªØºÙŠÙŠØ± Ø§Ù„ÙˆØ¸ÙŠÙØ© Ù‚Ø¨Ù„ Ø§Ø¨ØªØ¯Ø§Ø¡ Ø§Ù„Ø§Ø¬Ø§Ø²Ø© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©",
  "Ø§Ù„ØªÙ‡Ø±Ø¨ Ù…Ù† Ø§Ø³ØªÙ„Ø§Ù… Ù…Ù‡Ø§Ù… Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ùˆ Ù†Ø§Ø¦Ø¨ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ùˆ Ù…Ø±ÙƒØ² Ø§Ù„Ø§ØªØµØ§Ù„Ø§Øª",
  "Ø§Ù†Ø²Ø§Ù„ Ø§Ù„Ø³Ø·Ø­Ø© Ø§Ø«Ù†Ø§Ø¡ Ø§Ù„Ù‚ÙŠØ§Ø¯Ø©",
  "Ø§ØµÙ„Ø§Ø­ Ø§Ù„Ù…Ø±ÙƒØ¨Ø§Øª Ù…Ù† Ø®Ù„Ø§Ù„ Ù‚Ø§Ø¦Ù…Ø© F6 ( Ø¨Ø¥Ø³ØªØ«Ù†Ø§Ø¡ Ø§Ù„Ù…Ø±ÙƒØ¨Ø§Øª Ø§Ù„Ø­ÙƒÙˆÙ…ÙŠØ© )",
  "ØªØ±Ùƒ Ø§Ù„Ø¨ÙˆØ§Ø¨Ø§Øª Ø§Ù„ÙƒØ±Ø§Ø¬ Ù…ÙØªÙˆØ­Ø©",
  "ØªØ®Ø·ÙŠ Ù…Ø±Ø§Ø¬Ø¹ ÙÙŠ Ø§Ù„Ø±Ø§Ø¯ÙŠÙˆ",
  "Ø§Ù„Ù‚ÙØ² Ù…Ù† Ø§Ù„Ø¯Ø±Ø¬ Ø¯Ø§Ø®Ù„ SRT",
  "Ø¹Ø¯Ù… Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ù„Ù„Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ† Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø©",
  "Ø¹Ø¯Ù… Ø§Ø®Ø° ÙƒÙˆØ¯ 7 Ùˆ Ø§Ù„ØªØ£ÙÙŠÙƒ",
  "Ø§Ù„ØªØ³Ø·ÙŠØ­ Ø¯Ø§Ø®Ù„ Ø­Ø¬Ø² Ù„ÙˆØ³ Ø¯ÙˆÙ† ØªÙˆØ¬ÙŠÙ‡",
  "Ø§Ù„ØªÙˆØ¬Ù‡ Ù„Ù„Ø£Ù…Ø§ÙƒÙ† Ø§Ù„Ù…Ø­Ø¶ÙˆØ±Ù‡ Ø¯ÙˆÙ† ØªÙˆØ¬ÙŠÙ‡",
  "Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© Ø§Ù„Ù…ØªÙ‡ÙˆØ±Ø©",
  "Ø¹Ø¯Ù… Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„Ø§Ø³Ù… + Ø§Ù„Ø§Ø³Ù… ÙÙŠ ÙØ§ÙŠÙ Ø§Ù…",
  "Ø§Ù„ØªØ³Ø·ÙŠØ­ Ø¯Ø§Ø®Ù„ Ù†Ø¯Ø§Ø¡ Ø§Ù„Ø§Ø³ØªØºØ§Ø«Ø©",
  "Ø§Ù‡Ù…Ø§Ù„ Ù…Ø±ÙƒØ¨Ø©",
  "Ø¹Ø¯Ù… Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø§Ø¯ÙŠÙˆ - Ø¹Ø¯Ù… ØªØ·Ø¨ÙŠÙ‚ ØªÙˆØ¬ÙŠÙ‡Ø§Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ùˆ Ø§Ù„Ù†Ø§Ø¦Ø¨",
  "Ø¹Ø¯Ù… Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ø³Ø¹Ø§Ø± Ø§Ù„ÙƒØ±Ø§Ø¬",
  "Ø§Ø®Ø° ÙƒÙˆØ¯ 7 Ùˆ Ø¹Ø¯Ù… Ø§Ù„Ø±Ø¬ÙˆØ¹ Ø¨Ø¹Ø¯ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø­Ø¯Ø¯",
  "Ø¹Ø¯Ù… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙÙŠ Ø§Ù„ÙˆØ¸ÙŠÙØ©",
  "Ø§Ù„Ø¨Ù‚Ø§Ø¡ ÙÙŠ Ø±ÙˆÙ… Ø§Ù„ÙƒØ±Ø§Ø¬",
  "Ø¹Ø¯Ù… Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…ÙˆØ¬Ø©"
];

function populateOptions(panelId){
  const panel = document.getElementById(panelId);
  if(!panel) return;
  panel.innerHTML = '';
  VIOLATIONS.forEach(v=>{
    const div = document.createElement('div');
    div.className = 'cd-option';
    div.textContent = v;
    panel.appendChild(div);
  });
}

/* ---------- UI helpers ---------- */
function show(id){
  document.querySelectorAll('.container').forEach(c=>c.classList.remove('active'));
  const el=document.getElementById(id);
  if(el) el.classList.add('active');
  closeAllDropdowns();
}

/* ---------- custom dropdown behavior ---------- */
function toggleDropdown(name){
  const panel = document.getElementById(name + '_panel');
  const isOpen = panel.style.display === 'block';
  closeAllDropdowns();
  if(!isOpen){
    panel.style.display = 'block';
    panel.setAttribute('aria-hidden','false');
  }
}
function closeAllDropdowns(){
  document.querySelectorAll('.cd-panel').forEach(p=>{ p.style.display='none'; p.setAttribute('aria-hidden','true'); });
}

document.addEventListener('click', function(e){
  if(e.target.closest('#vio_panel') && e.target.classList.contains('cd-option')){
    const val = e.target.innerText.trim();
    document.getElementById('vio_selected').value = val;
    const sel = document.querySelector('#vio_dropdown .cd-selected .placeholder');
    if(sel) sel.innerText = val;
    document.querySelectorAll('#vio_panel .cd-option').forEach(o=>o.classList.remove('selected'));
    e.target.classList.add('selected');
    closeAllDropdowns();
    e.stopPropagation();
    return;
  }
  if(e.target.closest('#abs_panel') && e.target.classList.contains('cd-option')){
    const val = e.target.innerText.trim();
    document.getElementById('abs_selected').value = val;
    const sel = document.querySelector('#abs_dropdown .cd-selected .placeholder');
    if(sel) sel.innerText = val;
    document.querySelectorAll('#abs_panel .cd-option').forEach(o=>o.classList.remove('selected'));
    e.target.classList.add('selected');
    closeAllDropdowns();
    e.stopPropagation();
    return;
  }
  if(!e.target.closest('.custom-dropdown')) closeAllDropdowns();
});
document.addEventListener('keydown', function(e){ if(e.key === 'Escape') closeAllDropdowns(); });

/* ---------- VACATION: toggle ---------- */
function vac_toggleFields(){
  const type = document.getElementById('vac_vacType').value;
  const balanceLabel = document.getElementById('vac_balanceLabel');
  const balanceInput = document.getElementById('vac_balance');
  const leadHeaderBox = document.getElementById('vac_leadHeaderBox');
  const leadHeaderSel = document.getElementById('vac_leadHeader');

  if(type === 'Ù…ÙƒØ§ÙØ£Ø© Ù‚ÙŠØ§Ø¯ÙŠØ©'){
    balanceLabel.textContent = 'ØªÙˆÙ‚ÙŠØ¹ Ùˆ Ø§Ø¹ØªÙ…Ø§Ø¯ : ';
    balanceInput.value = '';
    balanceInput.placeholder = 'Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¨ÙŠ Ø¢ÙŠØ¯ÙŠ Ø§Ù„Ù‚ÙŠØ§Ø¯Ø©';
    leadHeaderBox.style.display = 'block';
  } else {
    balanceLabel.textContent = 'Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ (Ø¨Ø§Ù„Ø³Ø§Ø¹Ø§Øª)';
    balanceInput.placeholder = 'Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø§Øª';
    leadHeaderBox.style.display = 'none';
    if(leadHeaderSel) leadHeaderSel.value = '';
  }
}

function vac_toggleManualTime(){
  const manual = document.getElementById('vac_manualTime').checked;
  document.getElementById('vac_timeRow').style.display = manual ? 'flex' : 'none';
}

/* ---------- VIOLATIONS: hide fine on "Ø´ÙÙ‡ÙŠ" ---------- */
function vio_toggleByLevel(){
  const level = document.getElementById('vio_warningLevel').value;
  const fineRow = document.getElementById('vio_fineRow');
  fineRow.style.display = (level === 'Ø´ÙÙ‡ÙŠ') ? 'none' : 'block';
}
vio_toggleByLevel();

/* ---------- VACATION (internal) ---------- */
function vac_generateVacation(){
  const type = document.getElementById('vac_vacType').value;

  const copyId = (document.getElementById('vac_copyId').value || '').trim();
  const duration = parseInt(document.getElementById('vac_duration').value, 10) || 0;
  const balanceRaw = (document.getElementById('vac_balance').value || '').trim();

  if(!copyId || duration <= 0){
    alert("âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ ÙˆØ§Ù„Ù…Ø¯Ø© Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­"); return;
  }

  const isLeadershipReward = (type === 'Ù…ÙƒØ§ÙØ£Ø© Ù‚ÙŠØ§Ø¯ÙŠØ©');
  if(isLeadershipReward){
    if(!balanceRaw){ alert("âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙˆØ¨ÙŠ ÙŠÙˆØ²Ø± Ø¢ÙŠØ¯ÙŠ Ø§Ù„Ù‚ÙŠØ§Ø¯Ø©"); return; }
    if(!(document.getElementById('vac_leadHeader').value)){ alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø®Ø§Ø·ÙØ¨ (Ø§Ù„Ù…Ø´Ø±Ù Ø§Ù„Ù…Ø­ØªØ±Ù… Ø£Ùˆ Ø§Ù„ÙÙ†ÙŠ Ø§Ù„Ù…Ø­ØªØ±Ù…)'); return; }
  } else {
    const balance = parseInt(balanceRaw,10) || 0;
    if(balance <= 0){ alert("âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ (Ø¨Ø§Ù„Ø³Ø§Ø¹Ø§Øª) Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­"); return; }
  }

  const manual = document.getElementById('vac_manualTime').checked;
  let startDate, endDate;

  if(manual){
    let startHour = parseInt(document.getElementById('vac_startHour').value) || 0;
    let startMinute = parseInt(document.getElementById('vac_startMinute').value) || 0;
    const period = document.getElementById('vac_startPeriod').value;

    if(startHour <= 0 || startHour > 12 || startMinute < 0 || startMinute > 59){
      alert("âš ï¸ Ø£Ø¯Ø®Ù„ Ø³Ø§Ø¹Ø© Ø¨ÙŠÙ† 1-12 ÙˆØ¯Ù‚ÙŠÙ‚Ø© Ø¨ÙŠÙ† 0-59"); return;
    }
    if(period === "Ù…" && startHour < 12) startHour += 12;
    if(period === "Øµ" && startHour === 12) startHour = 0;

    let tzDate = new Date(new Date().toLocaleString("en-US", { timeZone: "Asia/Riyadh" }));
    let yyyy = tzDate.getFullYear();
    let mm = String(tzDate.getMonth()+1).padStart(2,'0');
    let dd = String(tzDate.getDate()).padStart(2,'0');

    startDate = new Date(`${yyyy}-${mm}-${dd}T${String(startHour).padStart(2,'0')}:${String(startMinute).padStart(2,'0')}:00`);
    endDate = new Date(startDate); endDate.setHours(endDate.getHours() + duration);
  }else{
    const tzNow = new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Riyadh"}));
    startDate = new Date(tzNow.getTime() + 5*60*1000);
    endDate = new Date(startDate.getTime() + duration*60*60*1000);
  }

  function formatDate(date){
    let y=date.getFullYear(), m=String(date.getMonth()+1).padStart(2,'0'), d=String(date.getDate()).padStart(2,'0');
    let h=date.getHours(), min=String(date.getMinutes()).padStart(2,'0');
    let per=h>=12?"Ù…":"Øµ"; h=h%12; h=h?h:12;
    return `${y}/${m}/${d}| ${h}:${min}${per}`;
  }

  let titleLine = 'Ø¥Ø¬Ø§Ø²Ø© Ø¯Ø§Ø®Ù„ÙŠØ©';
  if(type === 'Ù…ÙƒØ§ÙØ£Ø© Ù‚ÙŠØ§Ø¯ÙŠØ©') titleLine = 'Ù…ÙƒØ§ÙØ£Ø© Ù‚ÙŠØ§Ø¯ÙŠØ©';
  else if(type === 'Ø¥Ø¬Ø§Ø²Ø© Ù…ØªÙ…ÙŠØ² Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹') titleLine = 'Ø¥Ø¬Ø§Ø²Ø© Ù…ØªÙ…ÙŠØ² Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹';
  else if(type === 'Ø¥Ø¬Ø§Ø²Ø© ØªØ§Ø¬Ø±') titleLine = 'Ø¥Ø¬Ø§Ø²Ø© ØªØ§Ø¬Ø±';

  let headerText = 'Ø§Ù„ÙÙ†ÙŠ Ø§Ù„Ù…Ø­ØªØ±Ù…';
  if(type === 'Ù…Ø´Ø±Ù') headerText = 'Ø§Ù„Ù…Ø´Ø±Ù Ø§Ù„Ù…Ø­ØªØ±Ù…';
  if(isLeadershipReward){
    headerText = document.getElementById('vac_leadHeader').value;
  }

  let topBalanceLine = '';
  if(!isLeadershipReward){
    const balance = parseInt(balanceRaw, 10) || 0;
    topBalanceLine = `***\`Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ :\` ${balance - duration} Ø³Ø§Ø¹Ø©***  \n`;
  }

  let leadershipLine = '';
  if(isLeadershipReward){
    leadershipLine = `\n***\`ØªÙˆÙ‚ÙŠØ¹ Ùˆ Ø§Ø¹ØªÙ…Ø§Ø¯ :\` <@${balanceRaw}>***\n`;
  }

  const result =
`***\` ${titleLine} \`*** 

***\`${headerText} :\`***  <@${copyId}>   

***\`Ø§Ù„Ù…Ù€Ù€Ù€Ù€Ø¯Ø© :\` ${duration} Ø³Ø§Ø¹Ø©***  

${topBalanceLine}
***Ù…Ù† ØªØ§Ø±ÙŠØ® ${formatDate(startDate)} ***  
***Ø§Ù„Ù‰ ØªØ§Ø±ÙŠØ® ${formatDate(endDate)} ***  

***\`Ù…Ù„Ø§Ø­Ø¸Ø© :\`***  
***ØªÙ†ØªÙ‡ÙŠ Ø§Ø¬Ø§Ø²ØªÙƒ Ø¨Ù†ÙØ³ Ø§Ù„ØªÙˆÙ‚ÙŠØª Ø§Ù„Ù„ÙŠ Ø¨ØªØ±Ø¬Ø¹ ÙÙŠØ© .***  

***\`ØªÙ†ÙˆÙŠÙ‡Ø§Øª Ù‡Ø§Ù…Ø© ÙŠØ¬Ø¨ Ù‚Ø±Ø§Ø¦ØªÙ‡Ø§ :\`***  

***01/ ØªØ¨Ø¯Ø£ Ø§Ù„Ø¥Ø¬Ø§Ø²Ø© Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ ÙÙŠ ÙˆÙ‚ØªÙ‡Ø§ Ø§Ù„Ù…Ø­Ø¯Ø¯ØŒ ÙˆÙŠÙÙ…Ù†Ø¹ ØªØºÙŠÙŠØ± Ø§Ù„ÙˆØ¸ÙŠÙØ© Ù‚Ø¨Ù„ Ø§Ù„Ù…Ø¯Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø¥Ø¬Ø§Ø²Ø©.***  

***02/ ÙŠØ¬Ø¨ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù…Ù† Ø§Ù„Ø¥Ø¬Ø§Ø²Ø© Ù‚Ø¨Ù„ Ø§Ù†ØªÙ‡Ø§Ø¡ Ù…Ø¯ØªÙ‡Ø§ ÙˆØªØºÙŠÙŠØ± Ø§Ù„ÙˆØ¸ÙŠÙØ© Ø¥Ù„Ù‰ Ù‚Ø·Ø§Ø¹ Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒ. Ù…Ù† ÙŠØ®Ø§Ù„Ù Ø°Ù„Ùƒ Ø³ÙŠÙØ¹ØªØ¨Ø± ØªÙ‡Ø±Ø¨Ø§Ù‹ ÙˆØ¸ÙŠÙÙŠØ§Ù‹ ÙˆØ³ØªØªÙ… Ù…Ø­Ø§Ø³Ø¨ØªÙ‡ Ù…Ù† Ù‚ÙØ¨Ù„ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙƒØ±Ø§Ø¬.***  

***03/ ÙÙŠ Ø­Ø§Ù„ Ø¹Ù†Ø¯Ùƒ Ø¹Ø°Ø± ÙˆÙ‚Ø¯Ù…ØªÙ‡ Ø¨ÙØªØ­ ØªÙƒØª Ø§Ø¬Ø§Ø²Ø© Ø³ÙŠØªÙ… ÙÙ‚Ø· ØªØµÙÙŠØ± Ø§Ø¬Ø§Ø²Ø§ØªÙƒ Ù…Ù‡Ù…Ø§ ÙƒØ§Ù† Ø§Ù„Ø³Ø¨Ø¨ ÙˆØ¹Ø¯Ù… Ø§Ø¹Ø·Ø§Ø¦Ùƒ ØªÙ‡Ø±Ø¨ ÙˆØ¸ÙŠÙÙŠ***  

***04/ ÙÙŠ Ø­Ø§Ù„ ØªÙ… Ø³Ø¬Ù†Ùƒ Ø±Ù‚Ø§Ø¨ÙŠØ§ Ø³ÙŠØªÙ… ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¹Ù‚ÙˆØ¨Ù‡ Ø¹Ù„ÙŠÙƒ Ø­Ø³Ø¨ [Ù‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„Ø§Ø¬Ø§Ø²Ø§Øª](https://ptb.discord.com/channels/1071933157097615480/1071934713524133918/1416990256070135900) ***  

***ÙƒØ°Ù„Ùƒ ÙÙŠ Ø­Ø§Ù„ ØªØ¹Ø¯ÙŠØª Ù†Øµ Ø§Ù„Ø§Ø³Ø¨ÙˆØ¹ ( Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡ ) Ø§Ùˆ ÙƒØ§Ù† Ø±ØµÙŠØ¯Ùƒ Ø§Ù‚Ù„ Ù…Ù† Ù†Øµ Ø§Ø¬Ù…Ø§Ù„ÙŠÙƒ Ø³ÙŠØªÙ… ØªØµÙÙŠØ±Ùƒ Ø§Ù„Ø§Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø­Ø§Ù„ÙŠ ÙˆØ§Ù„Ù‚Ø§Ø¯Ù…***  

***05/ÙŠÙ…Ù†Ø¹ Ù…Ù†Ø¹Ø§Ù‹ Ø¨Ø§ØªØ§Ù‹ ØªØºÙŠÙŠØ± Ø§Ù„Ø§Ø³Ù… Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ù‚Ø§Ø·Ø¹Ø© Ø­Ø³Ø¨ [Ù‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„Ø§Ø¬Ø§Ø²Ø§Øª](https://ptb.discord.com/channels/1071933157097615480/1071934713524133918/1416990256070135900) ***

${leadershipLine}

<@&1149742928953086105>`;
  const out = document.getElementById('vac_output');
  out.innerText = result; out.style.display='block';
}

/* ---------- SECONDMENT (Ø§Ù„Ø§Ù†ØªØ¯Ø§Ø¨Ø§Øª) ---------- */
function sec_generate(){
  const copyId = (document.getElementById('sec_copyId').value || '').trim();
  const nameCode = (document.getElementById('sec_nameCode').value || '').trim();
  const sector = document.getElementById('sec_sector').value;
  const days = (document.getElementById('sec_days').value || '').trim();

  if(!copyId || !nameCode || !sector || !days){
    alert("âš ï¸ ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø§Ù†ØªØ¯Ø§Ø¨Ø§Øª: Ø§Ù„ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠØŒ Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¯Ø¨ ÙˆÙƒÙˆØ¯Ù‡ØŒ Ø§Ù„Ù‚Ø·Ø§Ø¹ Ø§Ù„Ù…Ù†ØªØ¯Ø¨ Ù„Ù‡ØŒ Ø§Ù„Ù…Ø¯Ø©");
    return;
  }

  const result =
`*** â–¬â–¬â–¬ ï·½ â–¬â–¬
\`\`\`Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ : Ø§Ù†ØªØ¯Ø§Ø¨ Ø®Ø§Ø±Ø¬ÙŠ \`\`\`
Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ… ÙˆØ±Ø­Ù…Ø© Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø±ÙƒØ§ØªÙ‡ØŒ ÙˆØ¨Ø¹Ø¯:
 \`\`\`cs
# Ø¥Ø´Ø§Ø±Ø© Ø¥Ù„Ù‰ Ø·Ù„Ø¨ Ø§Ù„Ù…ÙˆØ¸Ù Ø§Ù„Ù…ÙˆØ¶Ø­Ø© Ø¨ÙŠØ§Ù†Ø§ØªÙ‡ Ø£Ø¯Ù†Ø§Ù‡ Ø¨Ø´Ø£Ù† Ø§Ù„Ø§Ù†ØªØ¯Ø§Ø¨ Ø®Ø§Ø±Ø¬ Ø§Ù„ÙƒØ±Ø§Ø¬ØŒ Ù†ÙÙŠØ¯ÙƒÙ… Ø¨Ø£Ù†Ù‡ ØªÙ…Øª Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø·Ù„Ø¨Ù‡ ÙˆÙÙ‚ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªØ§Ù„ÙŠØ©:
\`\`\`

 Ø§Ù„Ø§Ø³Ù…: <@${copyId}>
 Ø§Ø³Ù… ÙˆÙƒÙˆØ¯ Ø§Ù„Ù…ÙˆØ¸Ù : ${nameCode}
 Ø§Ù„Ù‚Ø·Ø§Ø¹ Ø§Ù„Ù…Ù†ØªØ¯Ø¨ Ù„Ù‡: ${sector}
 Ø§Ù„Ù…Ø¯Ø©: ${days} ÙŠÙˆÙ…

Ù†Ø±Ø¬ÙˆØ§ Ù…Ù† Ø§Ù„Ù…ÙˆØ¸Ù Ø§Ù„ØªÙ‚ÙŠØ¯ Ø¨Ø§Ù„Ø£Ù†Ø¸Ù…Ø© ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ø§Ù†ØªØ¯Ø§Ø¨Ø§ØªØŒ ÙˆØ§Ù„ØªÙ†Ø³ÙŠÙ‚ Ù…Ø¹ Ø§Ù„Ø¬Ù‡Ø© Ø§Ù„Ù…Ø¹Ù†ÙŠØ© Ù‚Ø¨Ù„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©.

<@&1149742928953086105> ***`;
  const out = document.getElementById('sec_output');
  out.innerText = result; out.style.display='block';
}

/* ---------- RESIGNATION ---------- */
function res_toggleLevel(){
  const t = document.getElementById('res_type').value;
  document.getElementById('res_levelBox').style.display = (t==='Ø§Ø¹Ù„Ù‰') ? 'block' : 'none';
}
function res_generate(){
  const type = document.getElementById('res_type').value;
  const copyId = (document.getElementById('res_copyId').value || '').trim();
  const nameCode = (document.getElementById('res_nameCode').value || '').trim();
  const supervisorId = (document.getElementById('res_supervisorId').value || '').trim();
  const levelNumber = (document.getElementById('res_levelNumber').value || '').trim();

  if(!copyId){ alert("âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ"); return; }
  if(!nameCode){ alert("âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… ÙˆÙƒÙˆØ¯ Ø§Ù„ÙÙ†ÙŠ ÙƒØªØ§Ø¨ØªØ§Ù‹"); return; }
  if(!supervisorId){ alert("âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ Ø§Ù„Ù…Ø´Ø±Ù"); return; }

  if(type === 'Ù…Ø³ØªÙˆÙ‰ Ù…ØªØ¯Ø±Ø¨' || type === 'Ù…Ø³ØªÙˆÙ‰ 1'){
    const reasonLine = (type === 'Ù…Ø³ØªÙˆÙ‰ Ù…ØªØ¯Ø±Ø¨')
      ? "Ø§Ø³ØªÙ‚Ø§Ù„Ø© Ø¨Ø±ØªØ¨Ø© Ù…Ø³ØªÙˆÙ‰ (Ù…ØªØ¯Ø±Ø¨)"
      : "Ø§Ø³ØªÙ‚Ø§Ù„Ø© Ø¨Ø±ØªØ¨Ø© Ù…Ø³ØªÙˆÙ‰ (1)";

    const result =
`*** â–¬â–¬â–¬ ï·½ â–¬â–¬
\`\`\`diff

-Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ : Ù‚Ø±Ø§Ø± Ø§Ù†Ù‡Ø§Ø¡ Ø®Ø¯Ù…Ø§Øª
\`\`\`
\`\`\`cs
# Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ø·Ù„Ø§Ø¹ Ø¹Ù„Ù‰ Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙˆØ¸ÙŠÙ ÙˆØ§Ù„ØªØ±Ù‚ÙŠØ§Øª ÙˆØ§Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„ØµØ§Ø¯Ø± Ù…Ù† Ø§Ø¯Ø§Ø±Ø© Ø§Ù„ÙƒØ±Ø§Ø¬ Ù‚Ø±Ø±Ù†Ø§ Ù…Ø§ÙŠÙ„ÙŠ 
 
Ø§ÙˆÙ„Ø§Ù‹: ØªÙ†Ù‡Ù‰ Ø®Ø¯Ù…Ø§Øª Ø§Ù„ÙÙ†ÙŠ Ø§Ø¯Ù†Ø§Ù‡ Ø§Ø¹ØªØ¨Ø§Ø±Ø§ Ù…Ù† ØªØ§Ø±ÙŠØ®Ù‡
Ø«Ø§Ù†ÙŠØ§Ù‹: Ù…Ù†Ø¹ ØªÙˆØ¸ÙŠÙ 14 ÙŠÙˆÙ…
Ø«Ø§Ù„Ø«Ø§Ù‹:ØºØ±Ø§Ù…Ù‡ Ù…Ø§Ù„ÙŠØ© Ù‚Ø¯Ø±Ù‡Ø§ 1,000,000 ØªØ³Ù„Ù… Ø§Ù„Ù‰ Ø®Ø²ÙŠÙ†Ø© Ø§Ù„ÙƒØ±Ø§Ø¬
\`\`\`

<@${copyId}>
${nameCode}

\`\`\`ÙˆØ°Ù„Ùƒ Ø¨Ø³Ø¨Ø¨ : ${reasonLine} \`\`\`

\`Ù†ÙˆØ¹ Ø§Ù„Ø³Ø­Ø¨ : \`  [ÙØ§ØªÙˆØ±Ø©](Ø±Ø§Ø¨Ø· Ø§Ù„ÙØ§ØªÙˆØ±Ø©) 

\`Ø§Ø¹ØªÙ…Ø§Ø¯:\` <@${supervisorId}>

\`ØªÙˆÙ‚ÙŠØ¹ Ù…Ø¯ÙŠØ± Ø§Ù„Ø®Ø²ÙŠÙ†Ø©: \`
<@1182445629721563177> 
<@&1071933343123386429> 

ÙŠØ±Ø³Ù„ Ø§Ù„Ø§ØµÙ„ Ø§Ù„Ù‰ : 
<@&1149742928953086105> ***`;
    const out = document.getElementById('res_output');
    out.innerText = result; out.style.display='block';
    return;
  }

  if(type === 'Ø§Ø¹Ù„Ù‰'){
    if(!levelNumber || parseInt(levelNumber,10) < 2){
      alert("âš ï¸ Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ù…Ø³ØªÙˆÙ‰ ØµØ§Ù„Ø­ (2 ÙØ£Ø¹Ù„Ù‰)"); return;
    }
    const resultHigh =
`*** â–¬â–¬â–¬ ï·½ â–¬â–¬
\`\`\`diff

-Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ : Ù‚Ø±Ø§Ø± Ø§Ù†Ù‡Ø§Ø¡ Ø®Ø¯Ù…Ø§Øª
\`\`\`
\`\`\`cs
# Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ø·Ù„Ø§Ø¹ Ø¹Ù„Ù‰ Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙˆØ¸ÙŠÙ ÙˆØ§Ù„ØªØ±Ù‚ÙŠØ§Øª ÙˆØ§Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„ØµØ¯Ø± Ù…Ù† Ø§Ø¯Ø§Ø±Ø© Ø§Ù„ÙƒØ±Ø§Ø¬ Ù‚Ø±Ø±Ù†Ø§ Ù…Ø§ÙŠÙ„ÙŠ 
 
Ø§ÙˆÙ„Ø§Ù‹: ØªÙ†Ù‡Ù‰ Ø®Ø¯Ù…Ø§Øª Ø§Ù„ÙÙ†ÙŠ Ø§Ø¯Ù†Ø§Ù‡ Ø§Ø¹ØªØ¨Ø§Ø±Ø§ Ù…Ù† ØªØ§Ø±ÙŠØ®Ù‡\`\`\`

<@${copyId}>
${nameCode}

\`\`\`ÙˆØ°Ù„Ùƒ Ø¨Ø³Ø¨Ø¨ : Ø§Ø³ØªÙ‚Ø§Ù„Ø© Ø¨Ø±ØªØ¨Ø© Ù…Ø³ØªÙˆÙ‰ (${levelNumber}) Ø¨Ù†Ø§Ø¡Ø§Ù‹ Ø¹Ù„Ù‰ Ø·Ù„Ø¨Ù‡ \`\`\`

\`ØªÙˆÙ‚ÙŠØ¹ ÙˆØ§Ø¹ØªÙ…Ø§Ø¯:\`
<@${supervisorId}>

\`ÙŠØ±Ø³Ù„ Ø§Ù„Ø§ØµÙ„ Ø§Ù„Ù‰ : \`
<@&1149742928953086105> ***`;
    const out = document.getElementById('res_output');
    out.innerText = resultHigh; out.style.display='block';
    return;
  }
}

/* ---------- VIOLATIONS (Ø§Ù„Ù…Ø®Ø§Ù„ÙØ§Øª) ---------- */
function vio_generate(){
  const copyId = (document.getElementById('vio_copyId').value || '').trim();
  const warningLevel = document.getElementById('vio_warningLevel').value;
  const fineAmount = (document.getElementById('vio_fineAmount')?.value || '').trim();
  const violation = document.getElementById('vio_selected').value || '';
  const supervisorId = (document.getElementById('vio_supervisorId')?.value || '').trim();

  if(!copyId){ alert("âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ"); return; }
  if(!violation){ alert("âš ï¸ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø³Ø¨Ø¨ Ø§Ù„Ù…Ø®Ø§Ù„ÙØ©"); return; }
  if(!supervisorId){ alert("âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ Ø§Ù„Ù…Ø´Ø±Ù"); return; }

  if(warningLevel === 'Ø´ÙÙ‡ÙŠ'){
    const resultShafahi =
`â–¬â–¬â–¬ ï·½ â–¬â–¬
\`\`\`diff

-Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ : Ø§Ù†Ø°Ø§Ø± (Ø´ÙÙ‡ÙŠ) 
\`\`\`
\`\`\`cs
# Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ø·Ù„Ø§Ø¹ Ø¹Ù„Ù‰ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø®Ø§Ù„ÙØ§Øª ÙˆØ§Ù„Ø¹Ù‚ÙˆØ¨Ø§Øª Ø§Ù„ØµØ§Ø¯Ø± Ù…Ù† Ø§Ø¯Ø§Ø±Ø© Ø§Ù„ÙƒØ±Ø§Ø¬ Ù‚Ø±Ø±Ù†Ø§ Ù…Ø§ÙŠÙ„ÙŠ 
 
Ø§ÙˆÙ„Ø§Ù‹: Ø§Ù†Ø°Ø§Ø± (Ø´ÙÙ‡ÙŠ) 
\`\`\`

\` Ø§Ù„ÙÙ†ÙŠ : \` <@${copyId}>

\`\`\`ÙˆØ°Ù„Ùƒ Ø¨Ø³Ø¨Ø¨ :  ${violation}\`\`\`

\`Ø§Ø¹ØªÙ…Ø§Ø¯:\` <@${supervisorId}>`;
    const out = document.getElementById('vio_output');
    out.innerText = resultShafahi; out.style.display='block';
    return;
  }

  if(!fineAmount){ alert("âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù‚ÙŠÙ…Ø© Ø§Ù„ØºØ±Ø§Ù…Ø©"); return; }

  const result =
`*** â–¬â–¬â–¬ ï·½ â–¬â–¬
\`\`\`diff

-Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ : Ø§Ù†Ø°Ø§Ø± ÙˆØ¸ÙŠÙÙŠ ÙˆØºØ±Ø§Ù…Ù‡ Ù…Ø§Ù„ÙŠØ©
\`\`\`
\`\`\`cs
# Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ø·Ù„Ø§Ø¹ Ø¹Ù„Ù‰ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø®Ø§Ù„ÙØ§Øª ÙˆØ§Ù„Ø¹Ù‚ÙˆØ¨Ø§Øª Ø§Ù„ØµØ§Ø¯Ø± Ù…Ù† Ø§Ø¯Ø§Ø±Ø© Ø§Ù„ÙƒØ±Ø§Ø¬ Ù‚Ø±Ø±Ù†Ø§ Ù…Ø§ÙŠÙ„ÙŠ 
 
Ø§ÙˆÙ„Ø§Ù‹: Ø§Ù†Ø°Ø§Ø± ÙˆØ¸ÙŠÙÙŠ (${warningLevel})
Ø«Ø§Ù†ÙŠØ§Ù‹: ØºØ±Ø§Ù…Ù‡ Ù…Ø§Ù„ÙŠØ© Ù‚Ø¯Ø±Ù‡Ø§ ${fineAmount} ØªØ³Ù„Ù… Ø§Ù„Ù‰ Ø®Ø²ÙŠÙ†Ø© Ø§Ù„ÙƒØ±Ø§Ø¬\`\`\`

<@${copyId}>

\`\`\`ÙˆØ°Ù„Ùƒ Ø¨Ø³Ø¨Ø¨ : ${violation}\`\`\`

\`Ù†ÙˆØ¹ Ø§Ù„Ø³Ø­Ø¨ : \`  [ÙØ§ØªÙˆØ±Ø©](Ø±Ø§Ø¨Ø· Ø§Ù„ÙØ§ØªÙˆØ±Ø©) 

\`Ø§Ø¹ØªÙ…Ø§Ø¯:\` <@${supervisorId}>

\`ØªÙˆÙ‚ÙŠØ¹ Ù…Ø¯ÙŠØ± Ø§Ù„Ø®Ø²ÙŠÙ†Ø© \`
<@1182445629721563177> 
<@&1071933343123386429> 

ÙŠØ±Ø³Ù„ Ø§Ù„Ø§ØµÙ„ Ø§Ù„Ù‰ : 
<@&1149742928953086105> ***`;
  const out = document.getElementById('vio_output');
  out.innerText = result; out.style.display='block';
}

/* ---------- ABSENT (ÙÙ†ÙŠ Ù„Ù… ÙŠØ­Ø¶Ø±) ---------- */
function abs_generate(){
  const copyId = document.getElementById('abs_copyId').value.trim();
  const reason = document.getElementById('abs_selected').value || '';
  const penalty = document.getElementById('abs_penalty').value.trim();
  const warning = document.getElementById('abs_warning').value;
  const notPunished = document.getElementById('abs_notPunished').value.trim();

  if(!copyId || !reason || !penalty || !warning){
    alert("ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©"); return;
  }

  const resultText =
`***\`  Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø³ØªØ¯Ø¹Ø§Ø¡ Ù„Ù„ÙÙ†ÙŠ Ø§Ù„Ø°ÙŠ Ù„Ù… ÙŠØ­Ø¶Ø±  \`***

***\`Ø§Ø³Ù… Ø§Ù„ÙÙ†ÙŠ : \` <@${copyId}> ***

***\`Ø³Ø¨Ø¨ Ø§Ù„Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ : \` ${reason} ***

***\`Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø®Ø§Ù„ÙØ© : \` ${Number(penalty).toLocaleString()} ***

***\` Ø§Ù„Ø§Ù†Ø°Ø§Ø± Ø§Ù„Ù…Ø³ØªØ­Ù‚ ØŸ :\` ${warning} *** 

***\`Ù„Ù… ØªØªÙ… Ù…Ø®Ø§Ù„ÙØªÙ‡ Ø¨Ø³Ø¨Ø¨ :\` ${notPunished} ***

***Ø§Ù„ÙŠ ÙŠØ¬ÙŠÙ‡ Ø§Ù„ÙÙ†ÙŠ ÙŠØ¹Ù„Ù…Ù‡ Ø³Ø¨Ø¨ Ø§Ù„Ù…Ø®Ø§Ù„ÙØ©  ÙˆÙŠÙ†Ø²Ù„Ù‡ Ø§Ù„Ù…Ø®Ø§Ù„ÙØ© ÙÙŠ Ø±ÙˆÙ…
https://ptb.discord.com/channels/1071933157097615480/1071934723858894868 ***  

***Ù†Ø³Ø®Ù‡ Ø§Ù„Ù‰***
 <@&1071933357136556183>  - <@&1142626431101325403>`;
  const out = document.getElementById('abs_output');
  out.innerText = resultText; out.style.display='block';
}

/* ---------- EXTERNAL VACATION (Ø¥Ø¬Ø§Ø²Ø© Ø®Ø§Ø±Ø¬ÙŠØ©) ---------- */
function ext_toggleMode(){
  const mode = document.getElementById('ext_mode').value;
  const mainFields = document.getElementById('ext_mainFields');
  const recLeave = document.getElementById('ext_recordLeaveFields');
  const breakFields = document.getElementById('ext_breakFields');

  if(mode === 'main'){
    mainFields.style.display = 'block';
    recLeave.style.display = 'none';
    breakFields.style.display = 'none';
  } else if(mode === 'record_leave'){
    mainFields.style.display = 'none';
    recLeave.style.display = 'block';
    breakFields.style.display = 'none';
  } else {
    mainFields.style.display = 'none';
    recLeave.style.display = 'none';
    breakFields.style.display = 'block';
  }
}

function formatDateYMD(dateStr){
  if(!dateStr) return '';
  const parts = dateStr.split('-');
  if(parts.length !== 3) return dateStr;
  return `${parts[0]}/${parts[1]}/${parts[2]}`;
}

function calcExtRecordEndValue(startStr, days){
  if(!startStr || !days || days <= 0) return '';
  const parts = startStr.split('-');
  if(parts.length !== 3) return '';
  const y = parseInt(parts[0],10);
  const m = parseInt(parts[1],10)-1;
  const d = parseInt(parts[2],10);
  if(isNaN(y) || isNaN(m) || isNaN(d)) return '';
  const date = new Date(y, m, d);
  date.setDate(date.getDate() + days);
  const yyyy = date.getFullYear();
  const mm = String(date.getMonth()+1).padStart(2,'0');
  const dd = String(date.getDate()).padStart(2,'0');
  return `${yyyy}-${mm}-${dd}`;
}

function calcExtRecordEnd(){
  const days = parseInt(document.getElementById('ext_rec_days').value,10);
  const startStr = document.getElementById('ext_rec_start').value;
  const endInput = document.getElementById('ext_rec_end');
  const val = calcExtRecordEndValue(startStr, days);
  endInput.value = val || '';
}

function autoTodayOnFocus(id){
  const el = document.getElementById(id);
  if(!el) return;
  el.addEventListener('focus', ()=>{
    if(el.value) return;
    const now = new Date();
    const yyyy = now.getFullYear();
    const mm = String(now.getMonth()+1).padStart(2,'0');
    const dd = String(now.getDate()).padStart(2,'0');
    el.value = `${yyyy}-${mm}-${dd}`;
  });
}

function ext_generate(){
  const mode = document.getElementById('ext_mode').value;
  const personType = document.getElementById('ext_personType').value;
  const headerText = (personType === 'Ù…Ø´Ø±Ù') ? 'Ø§Ù„Ù…Ø´Ø±Ù Ø§Ù„Ù…Ø­ØªØ±Ù…' : 'Ø§Ù„ÙÙ†ÙŠ Ø§Ù„Ù…Ø­ØªØ±Ù…';
  const roleWord = (personType === 'Ù…Ø´Ø±Ù') ? 'Ø§Ù„Ù…Ø´Ø±Ù' : 'Ø§Ù„ÙÙ†ÙŠ';
  const copyId = (document.getElementById('ext_copyId').value || '').trim();

  if(!copyId){
    alert("âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ");
    return;
  }

  if(mode === 'main'){
    const days = parseInt(document.getElementById('ext_days').value,10);
    if(!days || days <= 0){ alert("âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù…Ø¯Ø© Ø¨Ø§Ù„Ø£ÙŠØ§Ù… Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­"); return; }

    let tzDate = new Date(new Date().toLocaleString("en-US", { timeZone: "Asia/Riyadh" }));
    let startDate = new Date(tzDate.getFullYear(), tzDate.getMonth(), tzDate.getDate());
    let endDate = new Date(startDate); endDate.setDate(endDate.getDate() + days);

    function fmtYMD(d){ let y=d.getFullYear(), m=String(d.getMonth()+1).padStart(2,'0'), day=String(d.getDate()).padStart(2,'0'); return `${y}/${m}/${day}`; }

    const result =
`***\`  Ø¥Ø¬Ø§Ø²Ø© Ø®Ø§Ø±Ø¬ÙŠØ©  \`***  

***\`${headerText} :\`***    <@${copyId}>         

***\`Ø§Ù„Ù…Ù€Ù€Ù€Ù€Ø¯Ø© :\` ${days} ÙŠÙˆÙ…***
 
***Ù…Ù† ØªØ§Ø±ÙŠØ® ${fmtYMD(startDate)}*** 
*** Ø§Ù„Ù‰ ØªØ§Ø±ÙŠØ® ${fmtYMD(endDate)}*** 

***\`Ù…Ù„Ø§Ø­Ø¸Ø© :\`***

***ØªÙ†ØªÙ‡ÙŠ Ø§Ø¬Ø§Ø²ØªÙƒ Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ© ÙÙŠ Ù†ÙØ³ ÙŠÙˆÙ… Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø§Ø¬Ø§Ø²Ø©.***

***\`ØªÙ†ÙˆÙŠÙ‡Ø§Øª Ù‡Ø§Ù…Ø© ÙŠØ¬Ø¨ Ù‚Ø±Ø§Ø¦ØªÙ‡Ø§ :\`***

***01/ ÙÙŠ Ø­Ø§Ù„ Ø¨Ø¯Øª Ø§Ù„Ø§Ø¬Ø§Ø²Ø© ÙŠÙ…Ù†Ø¹ Ù…Ù†Ø¹Ø§ Ø¨Ø§ØªØ§ Ø¯Ø®ÙˆÙ„Ùƒ Ù„Ù„Ù…Ù‚Ø§Ø·Ø¹Ø©. Ù…Ù† ÙŠØ®Ø§Ù„Ù Ø°Ù„Ùƒ Ø³ÙŠÙØ¹ØªØ¨Ø± ØªÙ‡Ø±Ø¨Ø§Ù‹ ÙˆØ¸ÙŠÙÙŠØ§Ù‹ ÙˆØ³ØªØªÙ… Ù…Ø­Ø§Ø³Ø¨ØªÙ‡ Ù…Ù† Ù‚ÙØ¨Ù„ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙƒØ±Ø§Ø¬.***

***02/ ÙÙŠ Ø­Ø§Ù„ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø§Ø¬Ø§Ø²Ø© Ø§Ùˆ Ø§Ø±Ø¯Øª Ù‚Ø·Ø¹Ù‡Ø§ ÙŠØ¬Ø¨ ÙØªØ­ ØªÙƒØª Ø§Ø¬Ø§Ø²Ø© ÙˆØ·Ù„Ø¨ Ù‚Ø·Ø¹Ù‡Ø§ Ø§Ùˆ Ø§Ù†Ù‡Ø§Ø¦Ù‡Ø§ ÙˆÙŠÙ…Ù†Ø¹ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø© Ø­ØªÙ‰ Ø§Ø²Ø§Ù„Ø© Ø±ÙˆÙ„ Ø§Ø¬Ø§Ø²Ø© ÙˆØ¸ÙŠÙÙŠØ©***
 
<@&1149742928953086105>`;
    const out = document.getElementById('ext_output');
    out.innerText = result; out.style.display='block';
    return;
  }

  if(mode === 'record_leave'){
    const days = parseInt(document.getElementById('ext_rec_days').value,10);
    const start = document.getElementById('ext_rec_start').value;
    const link = (document.getElementById('ext_rec_link').value || '').trim();

    if(!days || days <= 0){ alert("âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¯Ø© Ø§Ù„Ø§Ø¬Ø§Ø²Ø© Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­"); return; }
    if(!start){ alert("âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ØªØ§Ø±ÙŠØ® Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø¬Ø§Ø²Ø©"); return; }
    if(!link){ alert("âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„Ø§Ø¬Ø§Ø²Ø©"); return; }

    const endStr = calcExtRecordEndValue(start, days);
    if(!endStr){ alert("âš ï¸ ØªØ¹Ø°Ø± Ø­Ø³Ø§Ø¨ ØªØ§Ø±ÙŠØ® Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø§Ø¬Ø§Ø²Ø©"); return; }
    document.getElementById('ext_rec_end').value = endStr;

    const startText = formatDateYMD(start);
    const endText = formatDateYMD(endStr);

    const result =
`***\`Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø§Ø¬Ø§Ø²Ø© Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ© \`***

***\`Ø§Ø³Ù… ${roleWord}  :\`  ( <@${copyId}> ) ***

***\`Ù…Ø¯Ø© Ø§Ù„Ø§Ø¬Ø§Ø²Ø© : \` ( ${days} ÙŠÙˆÙ… ) ***

***\`ØªØ§Ø±ÙŠØ® Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø¬Ø§Ø²Ø© :\` ( ${startText} ) *** 

***\`ØªØ§Ø±ÙŠØ® Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø§Ø¬Ø§Ø²Ø©  :\` ( ${endText} ) *** 

***\`Ù†Ø³Ø®Ø© Ù„Ù„Ù‚Ø±Ø§Ø± :\` ( ${link} ) ***

***\`Ù„Ù„Ø¹Ù„Ù… ÙˆØ§Ù„Ø§Ø­Ø§Ø·Ø©/\`***
<@1059976190988910772> & <@818887908265033728>`;
    const out = document.getElementById('ext_output');
    out.innerText = result; out.style.display='block';
    return;
  }

  if(mode === 'record_break'){
    const breakDate = document.getElementById('ext_break_date').value;
    const link = (document.getElementById('ext_break_link').value || '').trim();

    if(!breakDate){ alert("âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ØªØ§Ø±ÙŠØ® ÙƒØ³Ø±/Ø±Ø¬ÙˆØ¹ Ù…Ù† Ø§Ù„Ø§Ø¬Ø§Ø²Ø©"); return; }
    if(!link){ alert("âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„Ø§Ø¬Ø§Ø²Ø©"); return; }

    const breakText = formatDateYMD(breakDate);

    const result =
`***\`Ù†Ù…ÙˆØ°Ø¬ ÙƒØ³Ø± / Ø±Ø¬ÙˆØ¹ Ù…Ù† Ø§Ù„Ø§Ø¬Ø§Ø²Ø© Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ© \`***

***\`Ø§Ø³Ù… ${roleWord}  :\` ( <@${copyId}> ) ***

***\`ØªØ§Ø±ÙŠØ® ÙƒØ³Ø±/Ø±Ø¬ÙˆØ¹ Ù…Ù† Ø§Ù„Ø§Ø¬Ø§Ø²Ø© :\` ( ${breakText} ) ***

***\`Ù†Ø³Ø®Ø© Ù„Ù„Ù‚Ø±Ø§Ø± :\` ( ${link} ) ***

***\`Ù„Ù„Ø¹Ù„Ù… ÙˆØ§Ù„Ø§Ø­Ø§Ø·Ø©/\`***
<@1059976190988910772> & <@792640279684710412> & <@1069596605080162397>`;
    const out = document.getElementById('ext_output');
    out.innerText = result; out.style.display='block';
    return;
  }
}

/* ---------- ROLE REQUEST (Ø·Ù„Ø¨ Ø±ÙˆÙ„) ---------- */
function role_generate(){
  const copyId = (document.getElementById('role_copyId').value || '').trim();
  const reason = (document.getElementById('role_reason').value || '').trim();
  const checks = document.querySelectorAll('#role_requests input[type="checkbox"]:checked');

  if(!copyId){ alert("âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ"); return; }
  if(checks.length === 0){ alert("âš ï¸ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù†ÙˆØ¹ Ø§Ù„Ø·Ù„Ø¨ ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„"); return; }
  if(!reason){ alert("âš ï¸ ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø³Ø¨Ø¨"); return; }

  const types = Array.from(checks).map(c=>c.value).join(" , ");

  const result =
`***Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ… ÙˆØ±Ø­Ù…Ø© Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø±ÙƒØ§ØªÙ‡ ,,***

***\`Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© Ø§Ù„Ù…ÙˆÙ‚Ø±Ø© Ù†Ø·Ù„Ø¨ Ù…Ù†ÙƒÙ… Ù„Ù„ÙÙ†ÙŠ : \` ( <@${copyId}> ) ***

 ***Ù†ÙˆØ¹ Ø§Ù„Ø·Ù„Ø¨ : ( ${types} ) ***

***\`ÙˆØ°Ù„Ùƒ Ø¨Ø³Ø¨Ø¨ :\` ( ${reason} ) ***

*** Ù„Ù„Ø¹Ù„Ù… Ù…Ø¹ Ø§Ù„ØªØ­ÙŠØ© /***
<@&1071933343123386429> 
<@&1092120226478428200> 
<@&1092120390324731994>***`;

  const out = document.getElementById('role_output');
  out.innerText = result;
  out.style.display = 'block';
}

/* ================= NEW: Ticket Templates logic ================= */
function ticket_toggleFields(){
  const t = document.getElementById('ticket_type').value;
  const promo = document.getElementById('ticket_promoFields');
  if(promo) promo.style.display = (t === 'promo_form') ? 'block' : 'none';
  ticket_toggleReason();
}

function ticket_toggleReason(){
  const t = document.getElementById('ticket_type').value;
  const elig = document.getElementById('ticket_eligibility');
  const box = document.getElementById('ticket_reasonBox');
  if(!box) return;
  if(t !== 'promo_form'){ box.style.display = 'none'; return; }
  box.style.display = (elig && elig.value === 'ØºÙŠØ± Ù…Ø³ØªØ­Ù‚') ? 'block' : 'none';
}

function ticket_generate(){
  const type = document.getElementById('ticket_type').value;
  const out = document.getElementById('ticket_output');
  if(!type){ alert("âš ï¸ Ø§Ø®ØªØ± Ù†Ù…ÙˆØ°Ø¬"); return; }

  let result = "";

  if(type === "accept_vac"){
    result =
`***  Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø§Ø¬Ø§Ø²Ø© ØªØ­Øª Ù‡Ø°Ù‡ Ø§Ù„Ø´Ø±ÙˆØ· :***

**ØªÙ… Ù‚Ø¨ÙˆÙ„ Ø§Ø¬Ø§Ø²ØªÙƒ Ù†Ø±Ø¬ÙˆØ§ Ù…Ù†Ùƒ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ù„Ø­ÙŠÙ† Ø§Ù†Ø²Ø§Ù„Ù‡Ø§ ÙÙŠ [ØµØ§Ø¯Ø± Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ø§Ø¯Ø§Ø±ÙŠØ©](https://discord.com/channels/1071933157097615480/1152470303507755008) . **

\`** Ù†Ø±Ø¬ÙˆØ§ Ù…Ù†Ùƒ Ø§Ù„Ø§ØªØ²Ø§Ù… Ø¨Ø¬Ù…ÙŠØ¹ Ù‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„Ù…Ù‚Ø§Ø·Ø¹Ø© Ùˆ Ù‚Ø±Ø§Ø¦Ø© Ø§Ù„Ø§ØªÙŠ :**\`

***\`ØªÙ†ÙˆÙŠÙ‡Ø§Øª Ù‡Ø§Ù…Ø© ÙŠØ¬Ø¨ Ù‚Ø±Ø§Ø¦ØªÙ‡Ø§ :\`***  

**01/ ØªØ¨Ø¯Ø£ Ø§Ù„Ø¥Ø¬Ø§Ø²Ø© Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ ÙÙŠ ÙˆÙ‚ØªÙ‡Ø§ Ø§Ù„Ù…Ø­Ø¯Ø¯ØŒ ÙˆÙŠÙÙ…Ù†Ø¹ ØªØºÙŠÙŠØ± Ø§Ù„ÙˆØ¸ÙŠÙØ© Ù‚Ø¨Ù„ Ø§Ù„Ù…Ø¯Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø¥Ø¬Ø§Ø²Ø©.**  

**02/ ÙŠØ¬Ø¨ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù…Ù† Ø§Ù„Ø¥Ø¬Ø§Ø²Ø© Ù‚Ø¨Ù„ Ø§Ù†ØªÙ‡Ø§Ø¡ Ù…Ø¯ØªÙ‡Ø§ ÙˆØªØºÙŠÙŠØ± Ø§Ù„ÙˆØ¸ÙŠÙØ© Ø¥Ù„Ù‰ Ù‚Ø·Ø§Ø¹ Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒ. Ù…Ù† ÙŠØ®Ø§Ù„Ù Ø°Ù„Ùƒ Ø³ÙŠÙØ¹ØªØ¨Ø± ØªÙ‡Ø±Ø¨Ø§Ù‹ ÙˆØ¸ÙŠÙÙŠØ§Ù‹ ÙˆØ³ØªØªÙ… Ù…Ø­Ø§Ø³Ø¨ØªÙ‡ Ù…Ù† Ù‚ÙØ¨Ù„ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙƒØ±Ø§Ø¬.** 

**03/ ÙÙŠ Ø­Ø§Ù„ Ø¹Ù†Ø¯Ùƒ Ø¹Ø°Ø± ÙˆÙ‚Ø¯Ù…ØªÙ‡ Ø¨ÙØªØ­ ØªÙƒØª Ø§Ø¬Ø§Ø²Ø© Ø³ÙŠØªÙ… ÙÙ‚Ø· ØªØµÙÙŠØ± Ø§Ø¬Ø§Ø²Ø§ØªÙƒ Ù…Ù‡Ù…Ø§ ÙƒØ§Ù† Ø§Ù„Ø³Ø¨Ø¨ ÙˆØ¹Ø¯Ù… Ø§Ø¹Ø·Ø§Ø¦Ùƒ ØªÙ‡Ø±Ø¨ ÙˆØ¸ÙŠÙÙŠ**  

**04/ ÙÙŠ Ø­Ø§Ù„ ØªÙ… Ø³Ø¬Ù†Ùƒ Ø±Ù‚Ø§Ø¨ÙŠØ§ Ø³ÙŠØªÙ… ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¹Ù‚ÙˆØ¨Ù‡ Ø¹Ù„ÙŠÙƒ Ø­Ø³Ø¨ [Ù‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„Ø§Ø¬Ø§Ø²Ø§Øª](https://ptb.discord.com/channels/1071933157097615480/1071934713524133918/1416990256070135900) **  

**ÙƒØ°Ù„Ùƒ ÙÙŠ Ø­Ø§Ù„ ØªØ¹Ø¯ÙŠØª Ù†Øµ Ø§Ù„Ø§Ø³Ø¨ÙˆØ¹ ( Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡ ) Ø§Ùˆ ÙƒØ§Ù† Ø±ØµÙŠØ¯Ùƒ Ø§Ù‚Ù„ Ù…Ù† Ù†Øµ Ø§Ø¬Ù…Ø§Ù„ÙŠÙƒ Ø³ÙŠØªÙ… ØªØµÙÙŠØ±Ùƒ Ø§Ù„Ø§Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø­Ø§Ù„ÙŠ ÙˆØ§Ù„Ù‚Ø§Ø¯Ù…**

**05/ÙŠÙ…Ù†Ø¹ Ù…Ù†Ø¹Ø§Ù‹ Ø¨Ø§ØªØ§Ù‹ ØªØºÙŠÙŠØ± Ø§Ù„Ø§Ø³Ù… Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ù‚Ø§Ø·Ø¹Ø© Ø­Ø³Ø¨ [Ù‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„Ø§Ø¬Ø§Ø²Ø§Øª](https://ptb.discord.com/channels/1071933157097615480/1071934713524133918/1416990256070135900) **`;
  }

  if(type === "vac_form"){
    result =
`> Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø§Ø¬Ø§Ø²Ø§Øª Ù†Ø±Ø¬ÙˆØ§ Ù…Ù†Ùƒ ØªØ¹Ø¨Ø¦ØªÙ‡ :
> 
*Ù†Ø±Ø¬Ùˆ Ù…Ù†Ùƒ ØªØ¹Ø¨Ø¦Øª Ù‡Ø°Ø§ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ù„Ø·Ù„Ø¨ Ø§Ø¬Ø§Ø²Ø©: *

\`Ù…Ø³ØªÙˆØ§Ùƒ ÙÙŠ Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒ\` : **Ù…Ø³ØªÙˆÙ‰ ....**

\`Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© \` : **0**

\`Ø±ØµÙŠØ¯Ùƒ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ ÙÙŠ Ø­Ø§Ù„ ÙˆØ¬ÙˆØ¯Ù‡ \`: **0**`;
  }

  if(type === "resign_form"){
    result =
`*Ø­ÙŠØ§Ùƒ Ø§Ù„Ù„Ù‡.*

*- ØªÙ… Ù‚Ø¨ÙˆÙ„ Ø§Ø³ØªÙ‚Ø§Ù„ØªÙƒ Ù†ØªÙ…Ù†Ù‰ Ù…Ù†Ùƒ Ø§ÙƒÙ…Ø§Ù„ Ù‡Ø°Ø§ Ø§Ù„Ø§Ø³ØªØ¨ÙŠØ§Ù† [Ø§Ø¶ØºØ· Ù‡Ù†Ø§](https://forms.cloud.microsoft/r/MRgyvuyWgD).*
*- ÙÙŠ Ø­Ø§Ù„ ÙƒÙ†Øª Ù…Ø³ØªÙˆÙ‰ Ù…ØªØ¯Ø±Ø¨ Ø£Ùˆ Ù…Ø³ØªÙˆÙ‰ ÙˆØ§Ø­Ø¯ ÙŠØªÙˆØ¬Ø¨ Ø§Ù…ØªÙ„Ø§ÙƒÙƒ 1 Ù…Ù„ÙŠÙˆÙ† Ù„Ù„Ø§Ø³ØªÙ‚Ø§Ù„Ø©.*
*- ÙÙŠ Ø­Ø§Ù„ Ø§Ø³ØªÙ‚Ø§Ù„ØªÙƒ Ø³ÙˆÙ ØªØ­ØµÙ„ Ø¹Ù„Ù‰ Ù…Ù†Ø¹ ØªÙˆØ¶ÙŠÙ Ù…Ø¯ØªÙ‡ 14 ÙŠÙˆÙ…. *
*- Ù†Ø±Ø¬ÙˆØ§ Ù…Ù†Ùƒ Ø§Ù„ØªÙˆØ¬Ù‡ Ø§Ù„Ù‰ Ø±ÙˆÙ… Ø§Ù„ÙƒØ±Ø§Ø¬ ÙÙŠ Ø§Ù‚Ø±Ø¨ ÙˆÙ‚Øª Ù„Ø§Ø³ØªÙƒÙ…Ø§Ù„ Ø§Ø¬Ø±Ø§Ø¦Ø§Øª Ø§Ù„Ø§Ø³ØªÙ‚Ø§Ù„Ø©.*
*[Ø±ÙˆÙ… Ø§Ù„ÙƒØ±Ø§Ø¬](https://discord.com/channels/1071933157097615480/1202408726925934692)*`;
  }

  if(type === "promo_form"){
    const reports = (document.getElementById('ticket_reports').value || '').trim();
    const hours = (document.getElementById('ticket_hours').value || '').trim();
    const eligibility = document.getElementById('ticket_eligibility').value;
    const reason = (document.getElementById('ticket_reason').value || '').trim();

    const reportsVal = reports ? reports : "0";
    const hoursVal = hours ? hours : "0";

    let reasonLine = "HERE REASON";
    if(eligibility === "ØºÙŠØ± Ù…Ø³ØªØ­Ù‚"){
      reasonLine = reason ? reason : "Ø§Ù„Ø³Ø¨Ø¨ ØºÙŠØ± Ù…Ø°ÙƒÙˆØ±";
    } else {
      reasonLine = "Ù„Ø§ ÙŠÙˆØ¬Ø¯";
    }

    let reasonsBullets = "";
    if(eligibility === "ØºÙŠØ± Ù…Ø³ØªØ­Ù‚"){
      reasonsBullets =
`- Ø¹Ø¯Ø¯ Ø³Ø§Ø¹Ø§Øª Ø£Ù‚Ù„ Ù…Ù† Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ .
- Ø¹Ø¯Ø¯ ØªÙ‚Ø§Ø±ÙŠØ± Ø£Ù‚Ù„ Ù…Ù† Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ .
-  Ù„ÙŠØ³ Ù…Ø³ØªÙˆÙÙŠ Ø¹Ø¯Ø¯ Ø§Ù„Ø¯ÙˆØ±Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© .`;
    }

    result =
`* Ø§Ø³ØªØ¹Ù„Ø§Ù… Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„ØªØ±Ù‚ÙŠØ©*

\` Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± :\` **${reportsVal}**

\`Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø§Øª :\`**${hoursVal}**

\`Ø§Ù„Ø¯ÙˆØ±Ø§Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ© Ù„Ù„ØªØ±Ù‚ÙŠØ© :\`**Ù„Ø§ÙŠÙˆØ¬Ø¯**

\`Ø§Ø³ØªØ­Ù‚Ø§Ù‚ Ø§Ù„ØªØ±Ù‚ÙŠØ© :\`**${eligibility}**
Ø§Ù„Ø§Ø³Ø¨Ø§Ø¨ : ${reasonLine}
${reasonsBullets ? ("\n" + reasonsBullets) : ""}`;
  }

  out.innerText = result;
  out.style.display = 'block';
}

/* ===================== COPY HELPERS (FIX) ===================== */
function copyToClipboard(text){
  if(!text || !text.trim()){
    alert("âš ï¸ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù†ØªÙŠØ¬Ø© Ù„Ù†Ø³Ø®Ù‡Ø§");
    return;
  }
  if (navigator.clipboard && window.isSecureContext) {
    navigator.clipboard.writeText(text)
      .then(()=>alert("âœ… ØªÙ… Ø§Ù„Ù†Ø³Ø®"))
      .catch(()=>fallbackCopy(text));
  } else {
    fallbackCopy(text);
  }

  function fallbackCopy(t){
    const ta = document.createElement('textarea');
    ta.value = t;
    ta.setAttribute('readonly', '');
    ta.style.position = 'fixed';
    ta.style.top = '-9999px';
    document.body.appendChild(ta);
    ta.select();
    try {
      document.execCommand('copy');
      alert("âœ… ØªÙ… Ø§Ù„Ù†Ø³Ø®");
    } catch (e){
      alert("âŒ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ù†Ø³Ø® ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§. Ø§Ù†Ø³Ø® ÙŠØ¯ÙˆÙŠÙ‹Ø§.");
    } finally {
      document.body.removeChild(ta);
    }
  }
}

function vac_copyResult(){ copyToClipboard(document.getElementById('vac_output')?.innerText || ""); }
function res_copy(){ copyToClipboard(document.getElementById('res_output')?.innerText || ""); }
function vio_copy(){ copyToClipboard(document.getElementById('vio_output')?.innerText || ""); }
function abs_copy(){ copyToClipboard(document.getElementById('abs_output')?.innerText || ""); }
function ext_copy(){ copyToClipboard(document.getElementById('ext_output')?.innerText || ""); }
function sec_copy(){ copyToClipboard(document.getElementById('sec_output')?.innerText || ""); }
function role_copy(){ copyToClipboard(document.getElementById('role_output')?.innerText || ""); }
function ticket_copy(){ copyToClipboard(document.getElementById('ticket_output')?.innerText || ""); }

/* ---------- Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„ ---------- */
document.addEventListener('DOMContentLoaded', ()=>{
  populateOptions('vio_panel');
  populateOptions('abs_panel');
  show('vacBox');
  ext_toggleMode();
  ticket_toggleFields();

  const recDaysInput = document.getElementById('ext_rec_days');
  const recStartInput = document.getElementById('ext_rec_start');
  if(recDaysInput) recDaysInput.addEventListener('input', calcExtRecordEnd);
  if(recStartInput) recStartInput.addEventListener('change', calcExtRecordEnd);

  autoTodayOnFocus('ext_rec_start');
  autoTodayOnFocus('ext_break_date');
});
</script>

</body>
</html>
