<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>๐ผุงูุดุคูู ุงูุฅุฏุงุฑูุฉ๐ผ</title>

<style>
:root{
  --menuW: 240px;

  /* ูุชุบูุฑุงุชู ุงูุฃุณุงุณูุฉ */
  --gold:#e0ca51;
  --bg:#222;
  --panel-bg: rgba(0,0,0,0.85);

  /* โ ูุณุงูุฉ ุจูู ุงููููู ูุงููุญุชูู */
  --gap: 28px;
}

html,body{height:100%}
*{box-sizing:border-box;}

body{
  margin:0;
  font-family:Tahoma, Arial, sans-serif;
  color:var(--gold);
  text-align:center;

  /* โ ุฎูููุฉ ูุน ููู ุงุญุชูุงุทู ูู ุงูุตูุฑุฉ ูุง ุชุญููุช */
  background-color:#111;
  background-image:url("https://raw.githubusercontent.com/xhhp1/mechanics/main/images/mechan.png");
  background-repeat:no-repeat;
  background-position:center center;
  background-size:cover;
  background-attachment:fixed;
}

/* โ ููู ูู ูุญุชูู ุงูุตูุญุฉ (ุบูุฑ ุงููููู) ุนุดุงู ุงูุชูุณูุท ูุถุจุท */
.main{
  /* โ ูุชุฑู ูุณุงุญุฉ ูููู ูููููู */
  margin-right: calc(var(--menuW) + var(--gap));
  margin-left: var(--gap);
  padding: 20px;
}

/* โ ุงููุงุฆูุฉ ูููู ุฏุงุฆูุงู */
.menu{
  position: fixed;
  top: 16px;
  right: 16px;            /* โ always right */
  left: auto;             /* โ prevent stretching */
  width: var(--menuW);
  display: flex;
  flex-direction: column; /* โ always vertical */
  gap: 10px;
  z-index: 10000;
  margin: 0;
  max-height: calc(100vh - 32px);
  overflow-y: auto;       /* โ scroll if many buttons */
  padding-right: 2px;
}

.menu::-webkit-scrollbar{ width: 8px; }
.menu::-webkit-scrollbar-thumb{
  background: rgba(224,202,81,0.35);
  border-radius: 10px;
}

.menu button{
  width: 100%;
  padding: 12px 16px;
  font-size: 16px;
  background: var(--gold);
  color: #111;
  border: none;
  border-radius: 10px;
  font-weight: bold;
  cursor: pointer;
  transition: transform .12s ease, background .12s ease;
  text-align: right;
  box-shadow: 0 6px 18px rgba(0,0,0,0.35);
}

.menu button:hover{
  background:#c6b142;
  transform: translateX(-3px);
}

/* โ IMPORTANT: ุญุชู ูู ุงูุดุงุดุฉ ุตุบูุฑุฉุ ูุฎูู ุงููููู ูููู ูุนููุฏู */
@media (max-width: 900px), (orientation: portrait){
  :root{ --gap: 14px; }

  .main{
    margin-right: calc(var(--menuW) + var(--gap));
    margin-left: var(--gap);
    padding: 16px;
  }

  .menu{
    top: 10px;
    right: 10px;
    width: var(--menuW);
    flex-direction: column;
    overflow-y: auto;
    overflow-x: hidden;
    background: transparent;
    backdrop-filter: none;
    padding: 0;
    border-radius: 0;
  }

  .menu button{
    min-width: 0;
    text-align: right;
    transform: none;
  }
}

/* โ ุฃูู ุชุนุฏูู: ุงุฎูุงุก ูู ุงูุชุงุจุงุช ุงูุชุฑุงุถูุงู */
.container{
  display:none;

  /* โ ุงูุชูุณูุท ุงูุญูููู */
  max-width:980px;
  width: min(980px, 100%);
  margin: 20px auto;

  background: var(--panel-bg);
  border-radius:12px;
  padding:18px;
  text-align:right;
}

.container.active{ display:block; }
.container h2{ margin-top:0; color:var(--gold); }

label{ display:block; margin:10px 0 6px; font-weight:bold; text-align:right; }

input[type="text"], input[type="number"], input[type="date"], select, textarea{
  width:100%;
  padding:10px;
  border-radius:8px;
  border:1px solid var(--gold);
  background:var(--bg);
  color:var(--gold);
  font-size:15px;
}

textarea{ resize:vertical; }

.time-group{ display:flex; gap:8px; }
.time-group input, .time-group select{ flex:1; }

.manual-wrap{ display:flex; align-items:center; gap:8px; margin-top:8px; }
.manual-wrap input[type="checkbox"]{ width:auto; }

.button-row{ display:flex; gap:12px; justify-content:center; margin-top:14px; flex-wrap:wrap; }
.btn{ padding:12px 22px; background:var(--gold); color:#111; border:none; border-radius:8px; font-weight:bold; cursor:pointer; }
.btn:hover{ background:#c6b142; }

.output{
  display:none;
  margin-top:14px;
  background:#333;
  padding:14px;
  border-radius:8px;
  color:var(--gold);
  text-align:left;
  white-space:pre-wrap;
  direction:ltr;
  max-width:940px;
  margin-left:auto;
  margin-right:auto;
}

/* custom dropdown */
.custom-dropdown{ position:relative; user-select:none; }
.cd-selected{
  display:flex; align-items:center; justify-content:space-between; gap:8px;
  padding:10px; border-radius:8px; border:1px solid var(--gold);
  background:var(--bg); color:var(--gold); cursor:pointer;
}
.cd-selected .placeholder{ opacity:0.8; }
.cd-panel{
  position:absolute; z-index:9999; left:0; right:0; top:calc(100% + 6px);
  background:var(--bg); border:1px solid rgba(224,202,81,0.15); border-radius:8px;
  box-shadow:0 6px 20px rgba(0,0,0,0.5); max-height:300px; overflow:auto; padding:6px; display:none;
}
.cd-option{ padding:10px; border-radius:6px; color:var(--gold); cursor:pointer; text-align:right; }
.cd-option:hover{ background: rgba(224,202,81,0.06); }
.cd-option.selected{ background: rgba(224,202,81,0.14); }

.checkbox-group{
  display:flex;
  flex-direction:column;
  gap:6px;
  padding:8px 10px;
  border-radius:8px;
  border:1px solid rgba(224,202,81,0.5);
  background:rgba(0,0,0,0.35);
}
.checkbox-group label{
  margin:0;
  font-weight:normal;
  display:flex;
  align-items:center;
  gap:6px;
}
.checkbox-group input[type="checkbox"]{ width:auto; }

@media (max-width:720px){
  .menu button{ padding:14px 18px; font-size:18px; }
  .cd-panel{ max-height:260px; }
}
</style>
</head>

<body>

<div class="menu">
  <button onclick="show('vacBox')">ุงูุฅุฌุงุฒุงุช</button>
  <button onclick="show('secBox')">ุงูุงูุชุฏุงุจุงุช</button>
  <button onclick="show('resignBox')">ุงูุงุณุชูุงูุฉ</button>
  <button onclick="show('accResignBox')">ุงุณุชูุงูุฉ ุงููุนุชูุฏ</button>
  <button onclick="show('violBox')">ุงููุฎุงููุงุช</button>
  <button onclick="show('absBox')">ููู ูู ูุญุถุฑ</button>
  <button onclick="show('extBox')">ุฅุฌุงุฒุฉ ุฎุงุฑุฌูุฉ</button>
  <button onclick="show('roleBox')">ุทูุจ ุฑูู</button>
  <button onclick="show('ticketBox')">ููุงุฐุฌ ุงูุชูุงุช</button>
</div>

<!-- โ ููููุง ูู ุงููุญุชูู ููุง -->
<div class="main">

<h1>๐ ุงูุดุคูู ุงูุฅุฏุงุฑูุฉ๐</h1>

<!-- ================= VACATION (ุฅุฌุงุฒุงุช ููุท) ================= -->
<div id="vacBox" class="container">
  <h2>๐งณ ุงูุฅุฌุงุฒุงุช ุงูุฏุงุฎููุฉ ๐งณ</h2>

  <label>ุงูุฅุฌุงุฒุฉ ูููุ</label>
  <select id="vac_vacType" onchange="vac_toggleFields()">
    <option value="ููู">ููู</option>
    <option value="ูุดุฑู">ูุดุฑู</option>
    <option value="ููุงูุฃุฉ ููุงุฏูุฉ">ููุงูุฃุฉ ููุงุฏูุฉ</option>
    <option value="ุฅุฌุงุฒุฉ ูุชููุฒ ุงูุฃุณุจูุน">ุฅุฌุงุฒุฉ ูุชููุฒ ุงูุฃุณุจูุน</option>
    <option value="ุฅุฌุงุฒุฉ ุชุงุฌุฑ">ุฅุฌุงุฒุฉ ุชุงุฌุฑ</option>
  </select>

  <div id="vac_internalFields">
    <div id="vac_leadHeaderBox" style="display:none">
      <label>ุงููุฎุงุทูุจ ูู ุงูุฑุณุงูุฉ</label>
      <select id="vac_leadHeader">
        <option value="">ุงุฎุชุฑ ุงูููุงูุฃุฉ ูููุ</option>
        <option value="ุงููุดุฑู ุงููุญุชุฑู">ุงููุดุฑู ุงููุญุชุฑู</option>
        <option value="ุงูููู ุงููุญุชุฑู">ุงูููู ุงููุญุชุฑู</option>
      </select>
    </div>

    <label>ุงูููุจู ุงูุฏู</label>
    <input type="text" inputmode="numeric" id="vac_copyId" placeholder="ุฃุฏุฎู ุงูููุจู ุงูุฏู">

    <label>ุงููููููุฏุฉ (ุจุงูุณุงุนุงุช)</label>
    <input type="number" id="vac_duration" placeholder="ุนุฏุฏ ุงูุณุงุนุงุช">

    <label id="vac_balanceLabel">ุงูุฑุตูุฏ ุงููุชุจูู (ุจุงูุณุงุนุงุช)</label>
    <input type="text" inputmode="numeric" id="vac_balance" placeholder="ุนุฏุฏ ุงูุณุงุนุงุช ุฃู ููุจู ุขูุฏู ุงูููุงุฏุฉ">

    <div class="manual-wrap">
      <input type="checkbox" id="vac_manualTime" onchange="vac_toggleManualTime()">
      <label for="vac_manualTime" style="margin:0;font-weight:normal">ูุฅุฏุฎุงู ุงูููุช ุจุดูู ูุฏูู</label>
    </div>

    <div id="vac_timeRow" class="time-group" style="display:none">
      <input type="number" id="vac_startHour" placeholder="ุงูุณุงุนุฉ (1-12)">
      <input type="number" id="vac_startMinute" placeholder="ุงูุฏูููุฉ (0-59)">
      <select id="vac_startPeriod">
        <option value="ุต">ุตุจุงุญูุง</option>
        <option value="ู">ูุณุงุกู</option>
      </select>
    </div>
  </div>

  <div class="button-row">
    <button class="btn" onclick="vac_generateVacation()">ุฅูุดุงุก ุงูุฅุฌุงุฒุฉ</button>
    <button class="btn" onclick="vac_copyResult()">๐ ูุณุฎ ุงููุชูุฌุฉ</button>
  </div>

  <div id="vac_output" class="output"></div>
</div>

<!-- ================= SECONDMENT (ุงูุงูุชุฏุงุจุงุช) ================= -->
<div id="secBox" class="container">
  <h2>๐งพ ููุงุฐุฌ ุงูุงูุชุฏุงุจุงุช ๐งพ</h2>

  <label>ุงูููุจู ุงูุฏู</label>
  <input type="text" inputmode="numeric" id="sec_copyId" placeholder="ุฃุฏุฎู ุงูููุจู ุงูุฏู">

  <label>ุงุณู ุงูููุชุฏุจ ู ููุฏู</label>
  <input type="text" id="sec_nameCode" placeholder="ุงูุชุจ ุงูุงุณู ูุงูููุฏ">

  <label>ุงููุทุงุน ุงูููุชุฏุจ ูู</label>
  <select id="sec_sector">
    <option value="">ุงุฎุชุฑ ุงููุทุงุน</option>
    <option>ุขูู ุงูุทุฑู</option>
    <option>ุขูู ุงูููุดุขุช</option>
    <option>ุญุฑุณ ุงูุญุฏูุฏ</option>
    <option>ุงูููุงู ุงูุฃุญูุฑ</option>
    <option>ุขูู ุนุงู</option>
    <option>ููุงุช ุงูุทุคุงุฑุฆ</option>
  </select>

  <label>ุงููุฏุฉ (ุจุงูุฃูุงู)</label>
  <input type="number" id="sec_days" placeholder="ุนุฏุฏ ุงูุฃูุงู">

  <div class="button-row">
    <button class="btn" onclick="sec_generate()">ุฅูุดุงุก ุงูุงูุชุฏุงุจ</button>
    <button class="btn" onclick="sec_copy()">๐ ูุณุฎ ุงููุชูุฌุฉ</button>
  </div>

  <div id="sec_output" class="output"></div>
</div>

<!-- ================= RESIGNATION (ุงูุงุณุชูุงูุฉ) ================= -->
<div id="resignBox" class="container">
  <h2>๐ูููุฐุฌ ุงูุงุณุชูุงูุฉ๐</h2>

  <label>ุงุณุชูุงูุฉ ููู ุ</label>
  <select id="res_type" onchange="res_toggleLevel()">
    <option value="ูุณุชูู ูุชุฏุฑุจ">ูุณุชูู ูุชุฏุฑุจ</option>
    <option value="ูุณุชูู 1">ูุณุชูู 1</option>
    <option value="ุงุนูู">ูุณุชูู 2 ูุฃุนูู</option>
    <option value="supervisor_4_6">ุงุณุชูุงูุฉ ูุดุฑู ูู 4-6</option>
    <option value="retire_7_9">ุชูุงุนุฏ ูุณุชูู 7-9</option>
  </select>

  <label>ุงูููุจู ุงูุฏู</label>
  <input type="text" inputmode="numeric" id="res_copyId" placeholder="ุฃุฏุฎู ุงูููุจู ุงูุฏู">

  <div id="res_levelBox" style="display:none">
    <label id="res_levelLabel">ุฑูู ุงููุณุชูู</label>
    <input type="number" id="res_levelNumber" placeholder="ุฃุฏุฎู ุฑูู ุงููุณุชูู">
  </div>

  <label>ุงุณู ู ููุฏ (ูุชุงุจุฉ)</label>
  <input type="text" id="res_nameCode" placeholder="ุงูุชุจ ุงูุงุณู ูุงูููุฏ ูุชุงุจุชุงู">

  <label>ููุจู ุงูุฏู (ุงูุชูููุน)</label>
  <input type="text" inputmode="numeric" id="res_supervisorId" placeholder="ุฃุฏุฎู ููุจู ุงูุฏู (ุชูููุน)">

  <div class="button-row">
    <button class="btn" onclick="res_generate()">ุฅูุดุงุก ุงูุฑุณุงูุฉ</button>
    <button class="btn" onclick="res_copy()">๐ ูุณุฎ ุงููุชูุฌุฉ</button>
  </div>
  <div id="res_output" class="output"></div>
</div>

<!-- ================= NEW: ACCREDITED RESIGNATION (ุงุณุชูุงูุฉ ุงููุนุชูุฏ) ================= -->
<div id="accResignBox" class="container">
  <h2>โ ุงุณุชูุงูุฉ ุงููุนุชูุฏ โ</h2>

  <label>ููุน ุงูุงุณุชูุงูุฉ</label>
  <select id="acc_type" onchange="acc_toggleLevel()">
    <option value="trainee_1">ุงุณุชูุงูุฉ ุจูุณุชูู (ูุชุฏุฑุจ & 1)</option>
    <option value="level_2_3">ูุณุชูู 2 ู 3</option>
  </select>

  <label>ููุดู ูููุนุชูุฏ (ุงูููุจู ุงูุฏู)</label>
  <input type="text" inputmode="numeric" id="acc_copyId" placeholder="ุฃุฏุฎู ููุจู ุงูุฏู ุงููุนุชูุฏ">

  <div id="acc_levelBox" style="display:none">
    <label id="acc_levelLabel">ุฑูู ุงููุณุชูู (2 ุฃู 3)</label>
    <input type="number" id="acc_levelNumber" placeholder="ุงูุชุจ 2 ุฃู 3 ููุท">
  </div>

  <label>ุงุณู ู ููุฏ ุงููุนุชูุฏ (ูุชุงุจุฉ)</label>
  <input type="text" id="acc_nameCode" placeholder="ูุซุงู:  ุญูููุฏ ุจูู ุนูุณูููุฑ [CC|G-020]">

  <label> ููุดู ูููุณู </label>
  <input type="text" inputmode="numeric" id="acc_selfId" placeholder="ุฃุฏุฎู ููุจู ุงูุฏู (ููุดู ูููุณู)">

  <label>ูุณุคูู ูู ุงุนุทุงุก ุงูุงุฐู </label>
  <input type="text" inputmode="numeric" id="acc_permissionId" placeholder="ุงูุชุจ ููุจู ุงูุฏู ูุณุคูู ุงุนุทุงุก ุงูุงุฐู">

  <div class="button-row">
    <button class="btn" onclick="acc_generate()">ุฅูุดุงุก</button>
    <button class="btn" onclick="acc_copy()">๐ ูุณุฎ</button>
  </div>

  <div id="acc_output" class="output"></div>
</div>

<!-- ================= VIOLATIONS (ุงููุฎุงููุงุช) ================= -->
<div id="violBox" class="container">
  <h2>๐ุงููุฎุงููุงุช๐</h2>

  <label>ุงูููุจู ุงูุฏู</label>
  <input type="text" inputmode="numeric" id="vio_copyId" placeholder="ุฃุฏุฎู ุงูููุจู ุงูุฏู">

  <label>ุฑูู ุงูุฅูุฐุงุฑ ุงููุธููู</label>
  <select id="vio_warningLevel" onchange="vio_toggleByLevel()">
    <option value="ุดููู">ุดููู</option>
    <option value="ุงูู">ุงูู</option>
    <option value="ุซุงูู">ุซุงูู</option>
    <option value="ููุงุฆู">ููุงุฆู</option>
  </select>

  <div id="vio_fineRow">
    <label>ูููุฉ ุงูุบุฑุงูุฉ</label>
    <input type="number" id="vio_fineAmount" placeholder="ุฃุฏุฎู ูููุฉ ุงูุบุฑุงูุฉ">
  </div>

  <div id="vio_supervisorRow">
    <label>ููุจู ุงูุฏู ุงููุดุฑู</label>
    <input type="text" inputmode="numeric" id="vio_supervisorId" placeholder="ุฃุฏุฎู ููุจู ุงูุฏู ุงููุดุฑู">
  </div>

  <label>ุงููุฎุงููุงุช</label>
  <div class="custom-dropdown" id="vio_dropdown">
    <div class="cd-selected" onclick="toggleDropdown('vio')">
      <span class="placeholder">ุงุฎุชุฑ ุงููุฎุงููุฉ</span>
      <span>&#9662;</span>
    </div>
    <div class="cd-panel" id="vio_panel" role="listbox" aria-hidden="true"></div>
  </div>
  <input type="hidden" id="vio_selected" value="">

  <div class="button-row">
    <button class="btn" onclick="vio_generate()">ุฅูุดุงุก ุงูุฅูุฐุงุฑ</button>
    <button class="btn" onclick="vio_copy()">๐ ูุณุฎ ุงููุชูุฌุฉ</button>
  </div>

  <div id="vio_output" class="output"></div>
</div>

<!-- ================= ABSENT (ููู ูู ูุญุถุฑ) ================= -->
<div id="absBox" class="container">
  <h2>๐งฒูููุฐุฌ ุฅุณุชุฏุนุงุก ููููู ุงูุฐู ูู ูุญุถุฑ๐งฒ</h2>

  <label>ุงูููุจู ุงูุฏู:</label>
  <input type="text" inputmode="numeric" id="abs_copyId" placeholder="ุฃุฏุฎู ุงูููุจู ุงูุฏู">

  <label>ุณุจุจ ุงูุงุณุชุฏุนุงุก:</label>
  <div class="custom-dropdown" id="abs_dropdown">
    <div class="cd-selected" onclick="toggleDropdown('abs')">
      <span class="placeholder">ุงุฎุชุฑ ุงูุณุจุจ</span>
      <span>&#9662;</span>
    </div>
    <div class="cd-panel" id="abs_panel" role="listbox" aria-hidden="true"></div>
  </div>
  <input type="hidden" id="abs_selected" value="">

  <label>ูููุฉ ุงููุฎุงููุฉ:</label>
  <input type="number" id="abs_penalty" placeholder="ุฃุฏุฎู ูููุฉ ุงููุฎุงููุฉ">

  <label>ุงูุฅูุฐุงุฑ ุงููุณุชุญูุ</label>
  <select id="abs_warning">
    <option value="">ุงุฎุชุฑ ุงูุฅูุฐุงุฑ</option>
    <option>ุดููู</option>
    <option>ุงูู</option>
    <option>ุซุงูู</option>
    <option>ููุงุฆู</option>
  </select>

  <label>ูู ุชุชู ูุฎุงููุชู ุจุณุจุจ:</label>
  <input type="text" id="abs_notPunished" placeholder="ุฃุฏุฎู ุงูุณุจุจ">

  <div class="button-row">
    <button class="btn" onclick="abs_generate()">ุฅูุดุงุก ุงูุฑุณุงูุฉ</button>
    <button class="btn" onclick="abs_copy()">ูุณุฎ</button>
  </div>

  <div id="abs_output" class="output"></div>
</div>

<!-- ================= EXTERNAL VACATION (ุฅุฌุงุฒุฉ ุฎุงุฑุฌูุฉ) ================= -->
<div id="extBox" class="container">
  <h2>โ๏ธูููุฐุฌ ุฅุฌุงุฒุฉ ุฎุงุฑุฌูุฉโ๏ธ</h2>

  <label>ููุน ุงููุนุงููุฉ</label>
  <select id="ext_mode" onchange="ext_toggleMode()">
    <option value="main">ุฅุฌุงุฒุฉ ุฎุงุฑุฌูุฉ</option>
    <option value="record_leave">ุณุฌูุงุช ุงูููุธููู - ุฅุฌุงุฒุฉ ุฎุงุฑุฌูุฉ</option>
    <option value="record_break">ุณุฌูุงุช ุงูููุธููู - ูุณุฑ ุงูุงุฌุงุฒุฉ ุงูุฎุงุฑุฌูุฉ</option>
  </select>

  <label>ุงูุงุฌุงุฒุฉ ูููุ</label>
  <select id="ext_personType">
    <option value="ููู">ููู</option>
    <option value="ูุดุฑู">ูุดุฑู</option>
  </select>

  <label>ุงูููุจู ุงูุฏู</label>
  <input type="text" inputmode="numeric" id="ext_copyId" placeholder="ุฃุฏุฎู ุงูููุจู ุงูุฏู">

  <div id="ext_mainFields">
    <label>ูุฏุฉ ุงูุงุฌุงุฒุฉ (ุจุงูุฃูุงู)</label>
    <input type="number" id="ext_days" placeholder="ุนุฏุฏ ุงูุฃูุงู">
  </div>

  <div id="ext_recordLeaveFields" style="display:none">
    <label>ูุฏุฉ ุงูุงุฌุงุฒุฉ (ุจุงูุฃูุงู)</label>
    <input type="number" id="ext_rec_days" placeholder="ุนุฏุฏ ุงูุฃูุงู">

    <label>ุชุงุฑูุฎ ุจุฏุก ุงูุงุฌุงุฒุฉ</label>
    <input type="date" id="ext_rec_start">

    <label>ุชุงุฑูุฎ ุงูุชูุงุก ุงูุงุฌุงุฒุฉ (ููุญุณุจ ุชููุงุฆูุงู)</label>
    <input type="text" id="ext_rec_end" placeholder="ูุชู ุญุณุงุจู ูู ุชุงุฑูุฎ ุงูุจุฏุก + ุงููุฏุฉ" readonly>

    <label>ุฑุงุจุท ุงูุงุฌุงุฒุฉ</label>
    <input type="text" id="ext_rec_link" placeholder="ุถุน ุฑุงุจุท ุงูุงุฌุงุฒุฉ ููุง">
  </div>

  <div id="ext_breakFields" style="display:none">
    <label>ุชุงุฑูุฎ ูุณุฑ/ุฑุฌูุน ูู ุงูุงุฌุงุฒุฉ</label>
    <input type="date" id="ext_break_date">

    <label>ุฑุงุจุท ุงูุงุฌุงุฒุฉ</label>
    <input type="text" id="ext_break_link" placeholder="ุถุน ุฑุงุจุท ุงูุงุฌุงุฒุฉ ููุง">
  </div>

  <div class="button-row">
    <button class="btn" onclick="ext_generate()">ุฅูุดุงุก</button>
    <button class="btn" onclick="ext_copy()">ูุณุฎ</button>
  </div>

  <div id="ext_output" class="output"></div>
</div>

<!-- ================= ROLE REQUEST (ุทูุจ ุฑูู) ================= -->
<div id="roleBox" class="container">
  <h2>๐งพ ุทูุจ ุฑูู ๐งพ</h2>

  <label>ุงูููุจู ุงูุฏู</label>
  <input type="text" inputmode="numeric" id="role_copyId" placeholder="ุฃุฏุฎู ุงูููุจู ุงูุฏู">

  <label>ููุน ุงูุทูุจ</label>
  <div class="checkbox-group" id="role_requests">
    <label><input type="checkbox" value="ุงุฒุงูุฉ ุงูุงุณู"> ุงุฒุงูุฉ ุงูุงุณู</label>
    <label><input type="checkbox" value="ุงุฒุงูู ุฑููุงุช ุงููููุงููู"> ุงุฒุงูู ุฑููุงุช ุงููููุงููู</label>
    <label><input type="checkbox" value="ููุน ุชูุธูู 14 ููู"> ููุน ุชูุธูู 14 ููู</label>
    <label><input type="checkbox" value="ุฅุนุทุงุก ุฑูู ุงุฌุงุฒู ูุธูููุฉ"> ุฅุนุทุงุก ุฑูู ุงุฌุงุฒู ูุธูููุฉ</label>
    <label><input type="checkbox" value="ุงุฒุงูุฉ ุฑูู ุงุฌุงุฒุฉ ุฎุงุฑุฌูุฉ"> ุงุฒุงูุฉ ุฑูู ุงุฌุงุฒุฉ ุฎุงุฑุฌูุฉ</label>
  </div>

  <label>ุงูุณุจุจ</label>
  <input type="text" id="role_reason" placeholder="ูุชู ูุชุงุจุฉ ุงูุณุจุจ ููุง ูุซุงู (ุงุณุชูุงูู ุจุฑุชุจุฉ ูุชุฏุฑุจ)">

  <div class="button-row">
    <button class="btn" onclick="role_generate()">ุฅูุดุงุก ุงูุทูุจ</button>
    <button class="btn" onclick="role_copy()">ูุณุฎ</button>
  </div>

  <div id="role_output" class="output"></div>
</div>

<!-- ================= TICKET TEMPLATES (ููุงุฐุฌ ุงูุชูุงุช) ================= -->
<div id="ticketBox" class="container">
  <h2>๐ซ ููุงุฐุฌ ุงูุชูุงุช ๐ซ</h2>

  <label>ุงุฎุชุฑ ุงููููุฐุฌ</label>
  <select id="ticket_type" onchange="ticket_toggleFields()">
    <option value="">ุงุฎุชุฑ ูููุฐุฌ</option>
    <option value="accept_vac">ูููุฐุฌ ูุจูู ุงูุงุฌุงุฒุฉ</option>
    <option value="vac_form">ูููุฐุฌ ุงูุงุฌุงุฒุฉ</option>
    <option value="resign_form">ูููุฐุฌ ุงูุงุณุชูุงูุฉ</option>
    <option value="promo_form">ูููุฐุฌ ุงูุชุฑููุงุช</option>
  </select>

  <div id="ticket_promoFields" style="display:none">
    <label>ุนุฏุฏ ุงูุชูุงุฑูุฑ</label>
    <input type="number" id="ticket_reports" placeholder="ุงูุชุจ ุนุฏุฏ ุงูุชูุงุฑูุฑ">

    <label>ุนุฏุฏ ุงูุณุงุนุงุช</label>
    <input type="number" id="ticket_hours" placeholder="ุงูุชุจ ุนุฏุฏ ุงูุณุงุนุงุช">

    <label>ุงุณุชุญูุงู ุงูุชุฑููุฉ</label>
    <select id="ticket_eligibility" onchange="ticket_toggleReason()">
      <option value="ูุณุชุญู">ูุณุชุญู</option>
      <option value="ุบูุฑ ูุณุชุญู">ุบูุฑ ูุณุชุญู</option>
    </select>

    <div id="ticket_reasonBox" style="display:none">
      <label>ุงูุณุจุจ</label>
      <input type="text" id="ticket_reason" placeholder="ุงูุชุจ ุงูุณุจุจ ููุง">
    </div>
  </div>

  <div class="button-row">
    <button class="btn" onclick="ticket_generate()">ุฅูุดุงุก</button>
    <button class="btn" onclick="ticket_copy()">ูุณุฎ</button>
  </div>

  <div id="ticket_output" class="output"></div>
</div>

</div><!-- /main -->

<script>
/* ---------- ูุตุฏุฑ ููุญูุฏ ูุนูุงุตุฑ ุงููุฎุงููุงุช ---------- */
const VIOLATIONS = [
  "ุงูุชูุฑุจ ูู ุงููุญุงุณุจุฉ",
  "ุงุณุชุฎุฏุงู ุฎูุงุต ุงููููุงููู ูููุตูุญุฉ ุงูุดุฎุตูุฉ",
  "ุนุฏู ุงุญุชุฑุงู  ุงููููุงูููู ุงู ุงูููุงุฏุฉ ุงู ุงููุดุฑู",
  "ุงุณุชูุงูู ุจุฑุชุจุฉ ูุณุชูู ูุชุฏุฑุจ ุงู ูุณุชูู 1",
  "ุงุซุงุฑู ุงูุฌุฏู ุจุงูุดุงุช ุงูุนุงู ุงู ุฑุณุงุฆู ุงููููุงููู",
  "ุฃู ุชูุงุนุจ ุจุงูููุงุชูุฑ",
  "ุงุณุชุฎุฑุงุฌ ูุฑูุจุงุช ุงู ุงุณุชุฆุฌุงุฑ ุฏุจุงุจ ุจูุฏู ุงูุญุฌุฒ",
  "ุงูุงุฌุฑุงู ุจูุธููุฉ ุงููููุงููู",
  "ุชูุงุฌุฏ ูู ูุฏู ุงุฎุฑุง",
  "ุงูุฎุฑูุฌ ูู ุบุฑูุฉ ุงูุนูููุงุช ุฏูู ุชุณููู ูุฌููุน ุงูููุงู ุงูููุฏุงููุฉ ( ุงูุนูููุงุช + ุงููุงุฆุจ + ุงูุงุชุตุงูุงุช)",
  "ุฏุฎูู ููุฌู ุงูุฑูุงุจุฉ ูุงูุชูุชูุด",
  "ุงูุณุฌู ุงูุฑูุงุจู",
  "ุนุฏู ุงุญุชุฑุงู ุงูุฑุงุฏ ุงููุทุงุนุงุช ู ุงูููุงุทููู - ุงูุชูุฑุจ ูู ุชูุจููุงุช ุงููุดุฑู",
  "ุงูุชุตุฏูู ุงููุชุนูุฏ ูุบุฑุถ ุชุนุฏูู ุงููุฑูุจู",
  "ุนุฏู ุงูุฌุฏูุฉ ุจุงูููุฏุงู",
  "ุชุฎุทู ูุฑุงุฌุน",
  "ุญูุงุฒู ุณูุงุญ ุงู ููููุนุงุช",
  "ูุฎุงููุงุช ุงูุชุนุฏูู ู ุงูุชุฒููุฏ",
  "ุชุนุฏูู ู ุชุฒููุฏ ุงููุฑูุจุงุช ุงูุชู ุชููู ุงูุณุณูุงุฑุงุช ุฃู ุฃูุณุชุฑุง ุงุณูุญุฉ",
  "ูุญุต ุงู ุชุนุฏูู ู ุชุฒููุฏ ุงููุฑูุจุงุช ูู ุฎุงุฑุฌ ุงููุงุช ุงูุงูุชุชุงุญ",
  "ุงูุชูุงุนุจ ูู ูุณุงุฑุงุช ุงูุชุนุฏูู ู ุงูุชุฒููุฏ",
  "ูุฎุงููุฉ ููุงููู ุงูุชุนุฏูู ู ุงูุชุฒููุฏ (ุชุนุฏูู ูุฑูุจุฉ ุจุฏูู ุชูุฌูู)",
  "ูุฎุงููุฉ ููุงููู ุงูุชุนุฏูู ู ุงูุชุฒููุฏ",
  "ูุฎุงููุฉ ููุงููู ุงูุชุนุฏูู ู ุงูุชุฒููุฏ (ุนุฏู ูุฑุงุฌุนุฉ ุงูุชูุฑูุฑ ุจุนุฏ ุงุฑุณุงูู )",
  "ุชุนุฏูู ู ุชุฒููุฏ ุงููุฑูุจุฉ ุงูุฎุงุตู ุจู ุงููููุฏุณ ุจููุณู",
  "ุงูุตูุน ุงู ุงูุถุฑุจ",
  "ุงูุงูุชุฏุงุจ ููุช ุงูุชูุธูู",
  "ุฏุฎูู ุฑูู ุงููุงุฏุฑ ุงููุณุงุฆู",
  "ุงูุชุฏุฎู ูู ุงูุดุคูู ุงูุฃุฏุงุฑูู",
  "ุชุนุฏูู ุงูุฒู ุงูุฑุณูู ูููุทุงุน ุงู ุงุถุงูู ุงููุดูู",
  "ุงูุงุนุชุฑุงุถ ุนูู ุงูุชุฑููุฉ ุงู ูุฎุงููุฉ ุจุฏูู ุงูุชุญูู ูู ุงููุงู ุงูุดุฑูุท",
  "ูุชุญ ุชูุช ุงุฌุงุฒุฉ ุบูุฑ ูุทุงุจูุฉ ููุดุฑูุท",
  "ุงูุชุงุฎุฑ ูู ุงูุนูุฏุฉ ูู ุงูุงุฌุงุฒุฉ ุงูุฏุงุฎููุฉ",
  "ุชุบููุฑ ุงููุธููุฉ ูุจู ุงุจุชุฏุงุก ุงูุงุฌุงุฒุฉ ุงูุฏุงุฎููุฉ",
  "ุงูุชูุฑุจ ูู ุงุณุชูุงู ููุงู ุงูุนูููุงุช ุงู ูุงุฆุจ ุงูุนูููุงุช ุงู ูุฑูุฒ ุงูุงุชุตุงูุงุช",
  "ุงูุฒุงู ุงูุณุทุญุฉ ุงุซูุงุก ุงูููุงุฏุฉ",
  "ุงุตูุงุญ ุงููุฑูุจุงุช ูู ุฎูุงู ูุงุฆูุฉ F6 ( ุจุฅุณุชุซูุงุก ุงููุฑูุจุงุช ุงูุญููููุฉ )",
  "ุชุฑู ุงูุจูุงุจุงุช ุงููุฑุงุฌ ููุชูุญุฉ",
  "ุชุฎุทู ูุฑุงุฌุน ูู ุงูุฑุงุฏูู",
  "ุงูููุฒ ูู ุงูุฏุฑุฌ ุฏุงุฎู SRT",
  "ุนุฏู ุงูุงุณุชุฌุงุจุฉ ููุงุณุชุฏุนุงุก ูู ูุจู ุงููุดุฑููู ุฎูุงู 24 ุณุงุนุฉ",
  "ุนุฏู ุงุฎุฐ ููุฏ 7 ู ุงูุชุฃููู",
  "ุงูุชุณุทูุญ ุฏุงุฎู ุญุฌุฒ ููุณ ุฏูู ุชูุฌูู",
  "ุงูุชูุฌู ููุฃูุงูู ุงููุญุถูุฑู ุฏูู ุชูุฌูู",
  "ุงูููุงุฏุฉ ุงููุชููุฑุฉ",
  "ุนุฏู ูุทุงุจูุฉ ุงูุงุณู + ุงูุงุณู ูู ูุงูู ุงู",
  "ุงูุชุณุทูุญ ุฏุงุฎู ูุฏุงุก ุงูุงุณุชุบุงุซุฉ",
  "ุงููุงู ูุฑูุจุฉ",
  "ุนุฏู ุงูุงุณุชุฌุงุจุฉ ุนูู ุงูุฑุงุฏูู - ุนุฏู ุชุทุจูู ุชูุฌููุงุช ุงูุนูููุงุช ุงู ุงููุงุฆุจ",
  "ุนุฏู ุงูุงูุชุฒุงู ูู ูุงุฆูุฉ ุงุณุนุงุฑ ุงููุฑุงุฌ",
  "ุงุฎุฐ ููุฏ 7 ู ุนุฏู ุงูุฑุฌูุน ุจุนุฏ ุงูููุช ุงููุญุฏุฏ",
  "ุนุฏู ุชุณุฌูู ุงูุฏุฎูู ูู ุงููุธููุฉ",
  "ุงูุจูุงุก ูู ุฑูู ุงููุฑุงุฌ",
  "ุนุฏู ุฏุฎูู ุงูููุฌุฉ"
];

function populateOptions(panelId){
  const panel = document.getElementById(panelId);
  if(!panel) return;
  panel.innerHTML = '';
  VIOLATIONS.forEach(v=>{
    const div = document.createElement('div');
    div.className = 'cd-option';
    div.textContent = v;
    panel.appendChild(div);
  });
}

/* ---------- UI helpers ---------- */
function show(id){
  document.querySelectorAll('.container').forEach(c=>c.classList.remove('active'));
  const el=document.getElementById(id);
  if(el) el.classList.add('active');
  closeAllDropdowns();
}

/* ---------- custom dropdown behavior ---------- */
function toggleDropdown(name){
  const panel = document.getElementById(name + '_panel');
  const isOpen = panel.style.display === 'block';
  closeAllDropdowns();
  if(!isOpen){
    panel.style.display = 'block';
    panel.setAttribute('aria-hidden','false');
  }
}
function closeAllDropdowns(){
  document.querySelectorAll('.cd-panel').forEach(p=>{
    p.style.display='none';
    p.setAttribute('aria-hidden','true');
  });
}

document.addEventListener('click', function(e){
  if(e.target.closest('#vio_panel') && e.target.classList.contains('cd-option')){
    const val = e.target.innerText.trim();
    document.getElementById('vio_selected').value = val;
    const sel = document.querySelector('#vio_dropdown .cd-selected .placeholder');
    if(sel) sel.innerText = val;
    document.querySelectorAll('#vio_panel .cd-option').forEach(o=>o.classList.remove('selected'));
    e.target.classList.add('selected');
    closeAllDropdowns();
    e.stopPropagation();
    return;
  }
  if(e.target.closest('#abs_panel') && e.target.classList.contains('cd-option')){
    const val = e.target.innerText.trim();
    document.getElementById('abs_selected').value = val;
    const sel = document.querySelector('#abs_dropdown .cd-selected .placeholder');
    if(sel) sel.innerText = val;
    document.querySelectorAll('#abs_panel .cd-option').forEach(o=>o.classList.remove('selected'));
    e.target.classList.add('selected');
    closeAllDropdowns();
    e.stopPropagation();
    return;
  }
  if(!e.target.closest('.custom-dropdown')) closeAllDropdowns();
});
document.addEventListener('keydown', function(e){ if(e.key === 'Escape') closeAllDropdowns(); });

/* ---------- VACATION: toggle ---------- */
function vac_toggleFields(){
  const type = document.getElementById('vac_vacType').value;
  const balanceLabel = document.getElementById('vac_balanceLabel');
  const balanceInput = document.getElementById('vac_balance');
  const leadHeaderBox = document.getElementById('vac_leadHeaderBox');
  const leadHeaderSel = document.getElementById('vac_leadHeader');

  if(type === 'ููุงูุฃุฉ ููุงุฏูุฉ'){
    balanceLabel.textContent = 'ุชูููุน ู ุงุนุชูุงุฏ : ';
    balanceInput.value = '';
    balanceInput.placeholder = 'ุฃุฏุฎู ููุจู ุขูุฏู ุงูููุงุฏุฉ';
    leadHeaderBox.style.display = 'block';
  } else {
    balanceLabel.textContent = 'ุงูุฑุตูุฏ ุงููุชุจูู (ุจุงูุณุงุนุงุช)';
    balanceInput.placeholder = 'ุนุฏุฏ ุงูุณุงุนุงุช';
    leadHeaderBox.style.display = 'none';
    if(leadHeaderSel) leadHeaderSel.value = '';
  }
}

function vac_toggleManualTime(){
  const manual = document.getElementById('vac_manualTime').checked;
  document.getElementById('vac_timeRow').style.display = manual ? 'flex' : 'none';
}

/* ---------- VIOLATIONS: hide fine on "ุดููู" ---------- */
function vio_toggleByLevel(){
  const level = document.getElementById('vio_warningLevel').value;
  const fineRow = document.getElementById('vio_fineRow');
  fineRow.style.display = (level === 'ุดููู') ? 'none' : 'block';
}
vio_toggleByLevel();

/* ======= (ุจุงูู ุณูุฑุจุชู ููุง ูู ุจุฏูู ุชุบููุฑ) ======= */
/* (ููุง ููุณ ููุฏู ุงูุฐู ุฃุฑุณูุชูุ ุฃูุง ูุง ุบูุฑุชู) */

/* ===================== COPY HELPERS ===================== */
function copyToClipboard(text){
  if(!text || !text.trim()){
    alert("โ๏ธ ูุง ููุฌุฏ ูุชูุฌุฉ ููุณุฎูุง");
    return;
  }
  if (navigator.clipboard && window.isSecureContext) {
    navigator.clipboard.writeText(text)
      .then(()=>alert("โ ุชู ุงููุณุฎ"))
      .catch(()=>fallbackCopy(text));
  } else {
    fallbackCopy(text);
  }

  function fallbackCopy(t){
    const ta = document.createElement('textarea');
    ta.value = t;
    ta.setAttribute('readonly', '');
    ta.style.position = 'fixed';
    ta.style.top = '-9999px';
    document.body.appendChild(ta);
    ta.select();
    try {
      document.execCommand('copy');
      alert("โ ุชู ุงููุณุฎ");
    } catch (e){
      alert("โ ูู ูุชู ุงููุณุฎ ุชููุงุฆููุง. ุงูุณุฎ ูุฏูููุง.");
    } finally {
      document.body.removeChild(ta);
    }
  }
}

function vac_copyResult(){ copyToClipboard(document.getElementById('vac_output')?.innerText || ""); }
function res_copy(){ copyToClipboard(document.getElementById('res_output')?.innerText || ""); }
function vio_copy(){ copyToClipboard(document.getElementById('vio_output')?.innerText || ""); }
function abs_copy(){ copyToClipboard(document.getElementById('abs_output')?.innerText || ""); }
function ext_copy(){ copyToClipboard(document.getElementById('ext_output')?.innerText || ""); }
function sec_copy(){ copyToClipboard(document.getElementById('sec_output')?.innerText || ""); }
function role_copy(){ copyToClipboard(document.getElementById('role_output')?.innerText || ""); }
function ticket_copy(){ copyToClipboard(document.getElementById('ticket_output')?.innerText || ""); }
function acc_copy(){ copyToClipboard(document.getElementById('acc_output')?.innerText || ""); }

/* ---------- ุนูุฏ ุงูุชุญููู ---------- */
document.addEventListener('DOMContentLoaded', ()=>{
  populateOptions('vio_panel');
  populateOptions('abs_panel');
  show('vacBox');          // โ ููุชุญ ุชุงุจ ูุงุญุฏ ููุท
  ext_toggleMode();
  res_toggleLevel();
  ticket_toggleFields();
  acc_toggleLevel();

  const recDaysInput = document.getElementById('ext_rec_days');
  const recStartInput = document.getElementById('ext_rec_start');
  if(recDaysInput) recDaysInput.addEventListener('input', calcExtRecordEnd);
  if(recStartInput) recStartInput.addEventListener('change', calcExtRecordEnd);

  autoTodayOnFocus('ext_rec_start');
  autoTodayOnFocus('ext_break_date');
});
</script>

</body>
</html>
